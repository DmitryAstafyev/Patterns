(function(){var M=function(){},N=function(){},O=function(){},P=function(){},Q=function(){},R=function(){},S=function(){},T=function(){},U=function(){},V=function(){};M.prototype=function(){var r=null,h=null,q=null,p=null,n=null,l=null,d=null,k=null,u=null,g=null,f=null,m=null,b=null,c=null,e=null,A=null,D=null,r={values:{USE_STORAGE_CSS:!0,USE_STORAGE_JS:!0,USE_STORAGE_HTML:!0,PATTERN_NODE:"pattern"},validator:{USE_STORAGE_CSS:function(a){return"boolean"===typeof a?!0:!1},USE_STORAGE_JS:function(a){return"boolean"===
typeof a?!0:!1},USE_STORAGE_HTML:function(a){return"boolean"===typeof a?!0:!1},PATTERN_NODE:function(a){return"string"===typeof a?0<a.length?0===a.replace(/\w/gi,"").length?!0:!1:!1:!1}},setup:function(a){null!==a&&"object"===typeof a&&_object(a).forEach(function(a,b){void 0!==r.values[a]&&void 0!==r.validator[a]&&(r.values[a]=r.validator[a](b)?b:r.values[a])})},get:function(){return r.values},debug:function(){r.values.USE_STORAGE_CSS=!1;r.values.USE_STORAGE_JS=!1;r.values.USE_STORAGE_HTML=!1;flex.config.set({SHOWN_LOGS:["CRITICAL",
"LOGICAL","WARNING","NOTIFICATION","LOGS"]})}},h={measuring:{MEASURE:!0},classes:{SOURCE:function(){},PATTERN:function(){},INSTANCE:function(){},RESULT:function(){},CALLER:function(){}},regs:{BODY:/<\s*body[^>]*>(\n|\r|\s|.)*?<\s*\/body\s*>/gi,BODY_TAG:/<\s*body[^>]*>|<\s*\/\s*body\s*>/gi,BODY_CLEAR:/^[\n\r\s]*|[\n\r\s]*$/gi,TABLE:/<\s*table[^>]*>(\n|\r|\s|.)*?<\s*\/table\s*>/gi,TABLE_TAG:/<\s*table[^>]*>|<\s*\/\s*table\s*>/gi,ANY_TAG:/<\s*[\w]{1,}[^>]*>(\n|\r|\s|\t|.)*<\s*\/\s*\w{1,}\s*>/gi,FIRST_TAG:/^\<.*?\>/gi,
TAG_BORDERS:/<|>/gi,CSS:/<link\s+.*?\/>|<link\s+.*?\>/gi,CSS_HREF:/href\s*\=\s*"(.*?)"|href\s*\=\s*'(.*?)'/gi,CSS_REL:/rel\s*=\s*"stylesheet"|rel\s*=\s*'stylesheet'/gi,CSS_TYPE:/type\s*=\s*"text\/css"|type\s*=\s*'text\/css'/gi,JS:/<script\s+.*?>/gi,JS_SRC:/src\s*\=\s*"(.*?)"|src\s*\=\s*'(.*?)'/gi,JS_TYPE:/type\s*=\s*"text\/javascript"|type\s*=\s*'text\/javascript'/gi,STRING:/"(.*?)"|'(.*?)'/gi,STRING_BORDERS:/"|'/gi,DOM:/\{\{\$[\w\.\,]*?\}\}/gi,DOM_OPEN:"\\{\\{\\$",DOM_CLOSE:"\\}\\}",HOOK:/\{\{[\w\.]*?\}\}/gi,
MODEL:/\{\{\:\:\w*?\}\}/gi,MODEL_BORDERS:/\{\{\:\:|\}\}/gi,MODEL_OPEN:"\\{\\{\\:\\:",MODEL_CLOSE:"\\}\\}",HOOK_OPEN:"\\{\\{",HOOK_CLOSE:"\\}\\}",HOOK_OPEN_COM:"<\\!--\\{\\{",HOOK_CLOSE_COM:"\\}\\}--\x3e",HOOK_BORDERS:/\{\{|\}\}/gi,GROUP_PROPERTY:/__\w*?__/gi,FIRST_WORD:/^\w+/gi,NOT_WORDS_NUMBERS:/[^\w\d]/gi,CONDITION_STRUCTURE:/^\w*=/gi},marks:{DOM:"DOM"},storage:{USE_LOCALSTORAGE:!0,VIRTUAL_STORAGE_GROUP:"FLEX_UI_PATTERNS_GROUP",VIRTUAL_STORAGE_ID:"FLEX_UI_PATTERNS_STORAGE",CSS_ATTACHED_JOURNAL:"FLEX_UI_PATTERNS_CSS_JOURNAL",
JS_ATTACHED_JOURNAL:"JS_ATTACHED_JOURNAL",PRELOAD_TRACKER:"FLEX_UI_PATTERNS_PRELOAD_TRACKER",NODE_BINDING_DATA:"FLEX_PATTERNS_BINDINGS_DATA",CONTROLLERS_LINKS:"FLEX_PATTERNS_CONTROLLERS_LINKS",CONTROLLERS_STORAGE:"FLEX_PATTERNS_CONTROLLERS_STORAGE",CONDITIONS_STORAGE:"FLEX_PATTERNS_CONDITIONS_STORAGE",HOOKS_STORAGE:"FLEX_PATTERNS_HOOKS_STORAGE",PATTERN_SOURCES:"FLEX_PATTERNS_PATTERN_SOURCES",PATTERNS:"FLEX_PATTERNS_PATTERNS"},compatibility:{PARENT_TO_CHILD:{table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",
tr:"td",colgroup:"col"},CHILD_TO_PARENT:{tr:"tbody",th:"tbody",td:"tr",col:"colgroup",tbody:"table",thead:"table",tfoot:"table"},BASE:"div"},css:{classes:{HOOK_WRAPPER:"flex_patterns_hook_wrapper"},attrs:{MODEL_DATA:"data-flex-model-data",DOM_MARK:"data-flex-dom-mark"},selectors:{HOOK_WRAPPERS:".flex_patterns_hook_wrapper"}},other:{INDEXES:"__indexes"}},m={SIGNATURE:"[flex.ui.patterns]",source:{TEMPLATE_WAS_LOADED:"0001:TEMPLATE_WAS_LOADED",FAIL_TO_LOAD_TEMPLATE:"0002:FAIL_TO_LOAD_TEMPLATE",FAIL_TO_PARSE_TEMPLATE:"0003:FAIL_TO_PARSE_TEMPLATE",
FAIL_TO_LOAD_JS_RESOURCE:"0004:FAIL_TO_LOAD_JS_RESOURCE"},pattern:{CANNOT_FIND_FIRST_TAG:"1000:CANNOT_FIND_FIRST_TAG",CANNOT_CREATE_WRAPPER:"1001:CANNOT_CREATE_WRAPPER",WRONG_PATTERN_WRAPPER:"1002:WRONG_PATTERN_WRAPPER",WRONG_HOOK_VALUE:"1003:WRONG_HOOK_VALUE",WRONG_CONDITION_DEFINITION:"1004:WRONG_CONDITION_DEFINITION",CANNOT_FIND_CONDITION_BEGINING:"1005:CANNOT_FIND_CONDITION_BEGINING",CANNOT_FIND_CONDITION_END:"1006:CANNOT_FIND_CONDITION_END",CANNOT_FIND_CONDITION_NODES:"1007:CANNOT_FIND_CONDITION_NODES",
CANNOT_FIND_CONDITION_VALUE:"1008:CANNOT_FIND_CONDITION_VALUE",UNEXCEPTED_ERROR_CONDITION_PARSER:"1009:UNEXCEPTED_ERROR_CONDITION_PARSER"},instance:{BAD_HOOK_FOR_CLONE:"2000:BAD_HOOK_FOR_CLONE",NO_URL_FOR_CLONE_HOOK:"2001:NO_URL_FOR_CLONE_HOOK"},caller:{CANNOT_INIT_PATTERN:"3000:CANNOT_INIT_PATTERN",CANNOT_GET_CHILD_PATTERN:"3001:CANNOT_GET_CHILD_PATTERN",CANNOT_GET_PATTERN:"3002:CANNOT_GET_PATTERN",PATTERN_WITHOUT_SRC:"3003:PATTERN_WITHOUT_SRC",CANNOT_FIND_ROOT_TEMPLATE:"3004:CANNOT_FIND_ROOT_TEMPLATE",
ONLY_ONE_TEMPLATE_ON_SAME_LEVEL:"3005:ONLY_ONE_TEMPLATE_ON_SAME_LEVEL"},layout:{BAD_ARRAY_OF_HOOKS:"4000:BAD_ARRAY_OF_HOOKS"}},q={proto:function(a){var d=this,B=null,e=null,u=null,k=null,I=null,E=null,L=null,B=null,B=function(c,e){var B=null,g=null,g=null;null===a.html?(g=f.get(d.url),null!==g&&!0===r.get().USE_STORAGE_HTML?u(g,c,e):(B=b.measure(),g=flex.ajax.send(d.url,flex.ajax.methods.GET,null,{success:function(a,g){b.measure(B,"loading sources for ("+d.url+")");f.add(d.url,a);u(a,c,e)},fail:function(a,
c){b.measure(B,"loading sources for ("+d.url+")");flex.logs.log(L()+m.source.FAIL_TO_LOAD_TEMPLATE,flex.logs.types.CRITICAL);E(e);throw m.source.FAIL_TO_LOAD_TEMPLATE;}}),g.send())):flex.logs.log(L()+m.source.TEMPLATE_WAS_LOADED,flex.logs.types.NOTIFICATION);return!0},e={URLs:function(a){var b=flex.system.url.restore(d.url);null!==b&&(a=a.map(function(a){a=flex.system.url.parse(a,b);return null!==a?a.url:!1}),a=a.filter(function(a){return!1!==a?!0:!1}));return a},html:function(b){var d=h.regs,e=b.match(d.BODY);
if(null!==e&&1===e.length)return a.html=e[0].replace(d.BODY_TAG,"").replace(d.BODY_CLEAR,""),a.original=b,a.html=c.tableFix(a.html),!0;a.html=null;return!1},css:function(){var b=h.regs,c=null!==a.original?a.original.match(b.CSS):null,d=[];null!==c&&Array.prototype.forEach.call(c,function(a){var c=a.match(b.CSS_HREF);var e=a.search(b.CSS_REL);a=a.search(b.CSS_TYPE);!1!==(0<e&&0<a?!0:!1)&&null!==c&&1===c.length&&(c=c[0].match(b.STRING),null!==c&&1===c.length&&d.push(c[0].replace(b.STRING_BORDERS,"")))});
a.css=e.URLs(d)},js:function(){var b=h.regs,c=null!==a.original?a.original.match(b.JS):null,d=[];null!==c&&Array.prototype.forEach.call(c,function(a){var c=a.match(b.JS_SRC);a=0<a.search(b.JS_TYPE)?!0:!1;!1!==a&&null!==c&&1===c.length&&(c=c[0].match(b.STRING),null!==c&&1===c.length&&d.push(c[0].replace(b.STRING_BORDERS,"")))});a.js=e.URLs(d)}},u=function(a,b,c){e.html(a.original)?(e.js(),e.css(),k.css.load(function(){k.js.load(function(){E(b)},function(){E(c)})})):(flex.logs.log(L()+m.source.FAIL_TO_PARSE_TEMPLATE,
flex.logs.types.NOTIFICATION),E(c))},k={css:{load:function(c){var e=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.CSS_ATTACHED_JOURNAL,{}),B=flex.unique();null!==a.css&&0<a.css.length?(flex.overhead.register.open(B,a.css,c),Array.prototype.forEach.call(a.css,function(a){var c=null,g=null;e[a]?flex.overhead.register.done(B,a):(e[a]=!0,c=f.get(a),null===c||!1===r.get().USE_STORAGE_CSS?(g=b.measure(),flex.resources.attach.css.connect(a,function(a){var c=flex.resources.parse.css.stringify(a);
null!==c&&f.add(a,c);null!==B&&flex.overhead.register.done(B,a);b.measure(g,"loading resources for ("+d.url+"):: "+a)})):(flex.resources.attach.css.adoption(c,null,a),flex.overhead.register.done(B,a),f.add(a,c)))})):E(c)}},js:{load:function(c,e){var B=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.JS_ATTACHED_JOURNAL,{}),I=flex.unique();null!==a.js&&0<a.js.length?(flex.overhead.register.open(I,a.js,c),Array.prototype.forEach.call(a.js,function(a){var c=null,u=null;void 0===B[a]?
(g.references.assign(a,d.url),B[a]=!0,c=f.get(a),null===c||!1===r.get().USE_STORAGE_JS?(u=b.measure(),flex.resources.attach.js.connect(a,function(){flex.overhead.register.done(I,a);flex.ajax.send(a,flex.ajax.methods.GET,null,{success:function(b,c){f.add(a,b.original)}}).send();b.measure(u,"loading resources for ("+d.url+"):: "+a)},function(){flex.logs.log(L()+m.source.FAIL_TO_LOAD_JS_RESOURCE,flex.logs.types.CRITICAL);b.measure(u,"loading resources for ("+d.url+"):: "+a);E(e);throw m.source.FAIL_TO_LOAD_JS_RESOURCE;
})):(g.current.set(a),flex.resources.attach.js.adoption(c,function(){flex.overhead.register.done(I,a);g.current.reset(a)}),f.add(a,c))):flex.overhead.register.done(I,a)})):E(c)}}},E=function(b){"function"===typeof b&&b.call(a.__instance,d.url,d.original_url,a.__instance)},I={html:function(){return a.html}},L=function(){return m.SIGNATURE+":: pattern ("+d.url+")"},B={load:B,html:I.html};return{load:B.load,html:B.html}},instance:function(a){return!1!==flex.oop.objects.validate(a,[{name:"url",type:"string"},
{name:"html",type:"string",value:null},{name:"css",type:"array",value:null},{name:"js",type:"array",value:null}])?_object({parent:h.classes.SOURCE,constr:function(){this.url=flex.system.url.restore(a.url);this.original_url=a.url},privates:{original:null,html:a.html,css:a.css,js:a.js},prototype:q.proto}).createInstanceClass():null},storage:{add:function(a,b){var c=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.PATTERN_SOURCES,{});void 0===c[a]&&(c[a]=b)},get:function(a){var b=
flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.PATTERN_SOURCES,{});return void 0!==b[a]?b[a]:null}},init:function(a,b,c){a=a instanceof Array?a:[a];flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.PRELOAD_TRACKER,{});var d=flex.unique(),e=[],f=!1;flex.overhead.register.open(d,a,function(){"function"!==typeof b||f?flex.system.handle(c):b(e)});a.forEach(function(a){var b=q.storage.get(a);null!==b?(e.push(b),flex.overhead.register.done(d,a)):(b=q.instance({url:a}),
b.load(function(a,b,c){e.push(c);q.storage.add(b,c);p.init(a,c.html());flex.overhead.register.done(d,b)},function(a,b,c){f=!0;flex.overhead.register.done(d,b)}))})}},p={proto:function(a){var b=this,d=null,e=null,f=null,g=f=null,d={hooks:{getFromHTML:function(){var b=a.html.match(h.regs.HOOK);return b instanceof Array?(b=function(a){var b={};return a.filter(function(a){return void 0===b[a]?b[a]=!0:!1})}(b),b=b.map(function(a){return a.replace(new RegExp(h.regs.HOOK_OPEN,"gi"),"").replace(new RegExp(h.regs.HOOK_CLOSE,
"gi"),"")})):[]},wrap:function(a){function b(a){var c=a.nodeValue,d=c.match(h.regs.HOOK),e=null,f=void 0!==h.compatibility.PARENT_TO_CHILD[a.parentNode.nodeName.toLowerCase()]?h.compatibility.PARENT_TO_CHILD[a.parentNode.nodeName.toLowerCase()]:h.compatibility.BASE;if(d instanceof Array){d.forEach(function(a){var b=a.replace(h.regs.HOOK_BORDERS,"");c=c.replace(new RegExp(h.regs.HOOK_OPEN+b+h.regs.HOOK_CLOSE,"gi"),"<"+f+' id="'+b+'" class="'+h.css.classes.HOOK_WRAPPER+'">\x3c!--'+a+"--\x3e</"+f+">")});
e=document.createElement(a.parentNode.nodeName);e.innerHTML=c;for(var d=0,g=e.childNodes.length;d<g;d+=1)a.parentNode.insertBefore(e.childNodes[0],a);a.parentNode.removeChild(a)}}void 0!==a.childNodes&&0<a.childNodes.length&&Array.prototype.forEach.call(Array.prototype.filter.call(a.childNodes,function(){return!0}),function(a){"string"===typeof a.innerHTML?c.testReg(h.regs.HOOK,a.innerHTML)&&d.hooks.wrap(a):"string"===typeof a.nodeValue&&c.testReg(h.regs.HOOK,a.nodeValue)&&b(a)});return!0},setters:{inNodes:function(a,
b,e,f){f=f instanceof RegExp?f:new RegExp(h.regs.HOOK_OPEN_COM+b+h.regs.HOOK_CLOSE_COM,"gi");b=b instanceof RegExp?b:new RegExp(h.regs.HOOK_OPEN+b+h.regs.HOOK_CLOSE,"gi");void 0!==a.childNodes&&0<a.childNodes.length&&Array.prototype.forEach.call(a.childNodes,function(a){"string"===typeof a.innerHTML?c.testReg(f,a.innerHTML)&&d.hooks.setters.inNodes(a,b,e,f):"string"===typeof a.nodeValue&&c.testReg(b,a.nodeValue)&&e.push(d.hooks.setters.nodeSetter(a.parentNode))})},inAttributes:function(a,b,e,f){f=
f instanceof RegExp?f:new RegExp(h.regs.HOOK_OPEN+b+h.regs.HOOK_CLOSE,"gi");a.attributes&&Array.prototype.forEach.call(a.attributes,function(g){"string"===typeof g.value&&""!==g.value&&c.testReg(f,g.value)&&(a.setAttribute(g.nodeName,g.value.replace(f,"{{"+b+"_attr}}")),e.push(d.hooks.setters.attrSetter(new RegExp(h.regs.HOOK_OPEN+b+"_attr"+h.regs.HOOK_CLOSE,"gi"),a,g.nodeName,a.getAttribute(g.nodeName))))});a.childNodes&&Array.prototype.forEach.call(a.childNodes,function(a){d.hooks.setters.inAttributes(a,
b,e,f)})},attrSetter:function(a,b,c,d){return function(e){b.setAttribute(c,d.replace(a,e))}},nodeSetter:function(a){function b(a,c){var d=null,f=null;a.innerHTML!==c&&(f=e.getFirstTagFromHTML(c.replace(h.regs.BODY_CLEAR,"")),void 0!==h.compatibility.CHILD_TO_PARENT[f]&&h.compatibility.CHILD_TO_PARENT[f]!==a.nodeName.toLowerCase()&&(d=document.createElement(h.compatibility.CHILD_TO_PARENT[f]),void 0!==a.attributes&&null!==a.attributes&&void 0!==a.attributes.length&&Array.prototype.forEach.call(a.attributes,
function(a){d.setAttribute(a.nodeName,a.value)}),d.innerHTML=c,a.parentNode.insertBefore(d,a),a.parentNode.removeChild(a),a=d));return a}return function(c){if("string"===typeof c.innerHTML)return a.parentNode.insertBefore(c,a),a.parentNode.removeChild(a),!0;if(c instanceof h.classes.RESULT)return c.nodes().forEach(function(b){a.parentNode.insertBefore(b,a)}),a.parentNode.removeChild(a),!0;if(void 0!==c.toString||"string"===typeof c){a.innerHTML="string"===typeof c?c:c.toString();a=b(a,c);for(c=a.childNodes.length-
1;0<=c;--c)a.parentNode.insertBefore(a.childNodes[0],a);a.parentNode.removeChild(a);return!0}}}},process:function(){a.hooks_html=d.hooks.getFromHTML();d.hooks.wrap(a.pattern)}},model:{getFromHTML:function(){var b=a.html.match(h.regs.MODEL);return b instanceof Array?(b=function(a){var b={};return a.filter(function(a){return void 0===b[a]?b[a]=!0:!1})}(b),b=b.map(function(a){return a.replace(h.regs.MODEL_BORDERS,"")})):null},setAttrData:function(a,b){var c=a.getAttribute(h.css.attrs.MODEL_DATA),c="string"===
typeof c?""!==c?JSON.parse(c):[]:[];c.push(b);a.setAttribute(h.css.attrs.MODEL_DATA,JSON.stringify(c))},find:{inStyles:function(a,b){b.split(";").forEach(function(b){var c=b.split(":");b.match(h.regs.MODEL);1<c.length&&void 0!==a.style[c[0]]&&(b=b.match(h.regs.MODEL),b instanceof Array&&1===b.length&&(b=b[0].replace(h.regs.MODEL_BORDERS,""),d.model.setAttrData(a,{style:c[0],model:b})))})},inAttrs:function(a,b,e){e=e instanceof RegExp?e:new RegExp(h.regs.MODEL_OPEN+b+h.regs.MODEL_CLOSE,"gi");a.attributes&&
Array.prototype.forEach.call(a.attributes,function(f){if("string"===typeof f.value&&""!==f.value&&c.testReg(e,f.value)&&("style"===f.nodeName?d.model.find.inStyles(a,f.value):d.model.setAttrData(a,{attr:f.nodeName,model:b}),a.removeAttribute(f.nodeName),void 0!==a[f.nodeName])){try{a[f.nodeName]=null}catch(g){}f="default"+f.nodeName[0].toUpperCase()+f.nodeName.substr(1,f.nodeName.length-1);if(void 0!==a[f])try{a[f]=""}catch(g){}}});a.childNodes&&Array.prototype.forEach.call(a.childNodes,function(a){d.model.find.inAttrs(a,
b,e)})},inHTML:function(a,b,e){e=e instanceof RegExp?e:new RegExp(h.regs.MODEL_OPEN+b+h.regs.MODEL_CLOSE,"gi");void 0!==a.childNodes&&0<a.childNodes.length&&Array.prototype.forEach.call(a.childNodes,function(f){"string"===typeof f.innerHTML?c.testReg(e,f.innerHTML)&&d.model.find.inHTML(f,b,e):"string"===typeof f.nodeValue&&c.testReg(e,f.nodeValue)&&(f.nodeValue=flex.unique(),d.model.setAttrData(a,{model:b,text:f.nodeValue}))})}},process:function(){var b=d.model.getFromHTML();null!==b&&b.forEach(function(b){d.model.find.inAttrs(a.pattern,
b);d.model.find.inHTML(a.pattern,b,null)})}},conditions:{getName:function(a){var b=a.split("=");if(2===b.length)return{name:b[0],value:b[1]};flex.logs.log(g()+m.pattern.WRONG_CONDITION_DEFINITION+" (original comment: "+a+")",flex.logs.types.CRITICAL);throw m.pattern.WRONG_CONDITION_DEFINITION;},getNodes:function(a,b,e){var f=!1,K=[],u=[],k=null;try{Array.prototype.forEach.call(e.childNodes,function(e){if(f){if(8===e.nodeType&&e.nodeValue===a)throw f=null,k=e,"closed";8===e.nodeType&&c.testReg(h.regs.CONDITION_STRUCTURE,
e.nodeValue)?(e=d.conditions.getName(e.nodeValue).name,-1===u.indexOf(e)&&u.push(e)):8===e.nodeType&&-1!==u.indexOf(e.nodeValue)||K.push(e)}else e===b&&(f=!0)})}catch(l){if("closed"!==l)throw flex.logs.log(g()+m.pattern.UNEXCEPTED_ERROR_CONDITION_PARSER+" (condition name: "+a+")",flex.logs.types.CRITICAL),m.pattern.UNEXCEPTED_ERROR_CONDITION_PARSER;}if(!1===f)throw flex.logs.log(g()+m.pattern.CANNOT_FIND_CONDITION_BEGINING+" (condition name: "+a+")",flex.logs.types.CRITICAL),m.pattern.CANNOT_FIND_CONDITION_BEGINING;
if(!0===f)throw flex.logs.log(g()+m.pattern.CANNOT_FIND_CONDITION_END+" (condition name: "+a+")",flex.logs.types.CRITICAL),m.pattern.CANNOT_FIND_CONDITION_END;return{nodes:K,included:u,close:k}},find:function(a){function b(a,e){void 0!==a.childNodes&&Array.prototype.forEach.call(a.childNodes,function(a){var f,g;8===a.nodeType?c.testReg(h.regs.CONDITION_STRUCTURE,a.nodeValue)&&(f=d.conditions.getName(a.nodeValue),void 0===e[f.name]&&(e[f.name]=[]),g=d.conditions.getNodes(f.name,a,a.parentNode),e[f.name].push({value:f.value,
open:a,close:g.close,nodes:g.nodes,included:g.included})):void 0!==a.childNodes&&0<a.childNodes.length&&b(a,e)})}var e={},f=null;b(a,e);f=function(a){function b(a){var c=document.createTextNode("");a.parentNode.insertBefore(c,a);return function(a){c.parentNode.insertBefore(a,c)}}var c=[];_object(a).forEach(function(d,e){e instanceof Array&&e.forEach(function(e,f){a[d][f].append=b(e.open);var g=e.open;-1===c.indexOf(g)&&c.push(g);g=e.close;-1===c.indexOf(g)&&c.push(g)})});return c}(e);(function(a,
b){_object(a).forEach(function(b,c){c instanceof Array&&c.forEach(function(c,d){c.nodes.forEach(function(a){c.append(a)});a[b][d].comment=null;delete a[b][d].comment})});b.forEach(function(a){null!==a.parentNode&&a.parentNode.removeChild(a)})})(e,f);return e},process:function(a,b){var c=d.conditions.find(a),e={};_object(b).forEach(function(a,b){var d=!1;void 0!==c[a]?(e[a]={},c[a].forEach(function(c){e[a][c.value]=void 0===e[a][c.value]?[]:e[a][c.value];e[a][c.value]=function(a,b,c){c={append:function(){var c=
[];b.forEach(function(b,e){void 0===b.__to_deleted?a(b):c.push(e)});0<c.length&&(b=b.filter(function(a,b){return-1!==c.indexOf(b)?!1:!0}))},remove:function(){var a=[];b.forEach(function(b,c){if(null!==b.parentNode)return b.parentNode.removeChild(b);void 0!==b.__to_deleted&&a.push(c)});0<a.length&&(b=b.filter(function(b,c){return-1!==a.indexOf(c)?!1:!0}))},del:function(){b.forEach(function(a){a.__to_deleted=!0})},included:c};c.append.blocked=!1;c.remove.blocked=!1;return c}(c.append,c.nodes,c.included);
c.nodes.forEach(function(a){c.value!==b?null!==a.parentNode&&a.parentNode.removeChild(a):d=!0})}),e[a].__update=function(a){return function(b){_object(a).forEach(function(a,c){void 0!==c.append&&void 0!==c.remove&&(c.append.blocked||c.remove.blocked||(b===a?c.append():c.remove()))})}}(e[a]),e[a].__block=function(a){return function(b){_object(a).forEach(function(a,b){void 0!==b.append&&void 0!==b.remove&&(b.append.blocked=!0,b.remove.blocked=!0)})}}(e[a]),e[a].__unblock=function(a){return function(b){_object(a).forEach(function(a,
b){void 0!==b.append&&void 0!==b.remove&&(b.append.blocked=!1,b.remove.blocked=!1)})}}(e[a]),e[a].__included=function(a){var b=[];_object(a).forEach(function(a,c){void 0!==c.included&&(b=b.concat(c.included))});return b}(e[a]),d||flex.logs.log(g()+m.pattern.CANNOT_FIND_CONDITION_VALUE+" (condition name: "+a+' = "'+b+'")',flex.logs.types.NOTIFICATION)):flex.logs.log(g()+m.pattern.CANNOT_FIND_CONDITION_NODES+" (condition name: "+a+")",flex.logs.types.WARNING)});return 0<Object.keys(e).length?e:null}},
marks:{getFromHTML:function(b){var c=null,e=[];void 0!==h.regs[b]&&(c=a.html.match(h.regs[b]),c instanceof Array&&(c=function(a){var b={};return a.filter(function(a){return void 0===b[a]?b[a]=!0:!1})}(c),c.forEach(function(c,d){var f=c.replace(new RegExp(h.regs[b+"_OPEN"],"gi"),"").replace(new RegExp(h.regs[b+"_CLOSE"],"gi"),"");a.html=a.html.replace(new RegExp(h.regs[b+"_OPEN"]+f.replace(/\./gi,"\\.")+h.regs[b+"_CLOSE"],"gi")," "+h.css.attrs[b+"_MARK"]+'="'+f+'" ');f=f.split(",");f.forEach(function(a){a=
a.replace(/\s/gi);-1===e.indexOf(a)&&e.push(a)})})));return e},getFromDOM:function(b,c){var e={};a[c.toLowerCase()]instanceof Array&&(a[c.toLowerCase()].forEach(function(a){e[a]=_nodes("*["+h.css.attrs[c+"_MARK"]+'*="'+a+'"]',!1,b);null!==e[a].target&&0<e[a].target.length&&(e[a]=e[a].target)}),_object(e).forEach(function(a,b){if(null!==e[a]){switch(c){case h.marks.DOM:e[a]=b}Array.prototype.forEach.call(b,function(a,b){a.removeAttribute(h.css.attrs[c+"_MARK"])})}}));return e},process:function(){[h.marks.DOM].forEach(function(b){a[b.toLowerCase()]=
d.marks.getFromHTML(b)})}},process:function(){a.pattern=e.getParent(e.getFirstTagFromHTML(a.html));if(null!==a.pattern)return d.marks.process(),a.pattern.innerHTML=a.html,d.hooks.process(),d.model.process(),!0;flex.logs.log(g()+m.pattern.CANNOT_CREATE_WRAPPER,flex.logs.types.CRITICAL);throw m.pattern.CANNOT_CREATE_WRAPPER;}},e={getParent:function(a){return"string"===typeof a?void 0!==h.compatibility.CHILD_TO_PARENT[a]?document.createElement(h.compatibility.CHILD_TO_PARENT[a]):document.createElement(h.compatibility.BASE):
null},getFirstTagFromHTML:function(a){a=a.match(h.regs.FIRST_TAG);if(null!==a&&1===a.length)return a[0].replace(h.regs.TAG_BORDERS,"").match(h.regs.FIRST_WORD)[0].toLowerCase();flex.logs.log(g()+m.pattern.CANNOT_FIND_FIRST_TAG+"(Probably hook has symbol of caret inside (\\n, \\r))",flex.logs.types.NOTIFICATION);return null}},f=function(b){var c={},e=a.pattern.cloneNode(!0);a.hooks_html.forEach(function(a){var b=[];d.hooks.setters.inAttributes(e,a,b);d.hooks.setters.inNodes(e,a,b);c[a]=function(a){return function(b){a.forEach(function(a){a(b)})}}(b)});
return{clone:e,setters:c,dom:d.marks.getFromDOM(e,h.marks.DOM),applyConditions:function(){var a=null;void 0!==b&&null!==b&&(a=d.conditions.process(e,b));return a}}},g=function(){return m.SIGNATURE+":: pattern ("+b.url+")"},f={build:d.process,clone:f};return{build:f.build,pattern:f.clone}},instance:function(a){return!1!==flex.oop.objects.validate(a,[{name:"url",type:"string"},{name:"html",type:"string"}])?_object({parent:h.classes.PATTERN,constr:function(){this.url=flex.system.url.restore(a.url)},
privates:{html:a.html,pattern:null,hooks_html:null,dom:null},prototype:p.proto}).createInstanceClass():null},storage:{add:function(a,b){var c=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.PATTERNS,{});void 0===c[a]&&(c[a]=b)},get:function(a){var b=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.PATTERNS,{});return void 0!==b[a]?b[a]:null}},init:function(a,b){var c=p.storage.get(a);if(null!==c)return c;c=p.instance({url:a,html:b});return!1!==c.build()?(n.init(a,
c.pattern),p.storage.add(a,c),c):null}},n={proto:function(a){var b=this,f=null,u=null,k=null,A=null,D=null,E=null,p=null,q=null,r=null,Y=flex.libraries.types.array.ExArray,p={update:function(a,b,c,e){a=a instanceof Array?void 0!==a[0]?a[0]:{}:a;var d=void 0!==c?null!==c?c:{}:{};e=void 0!==e?null!==e?e:null:null;_object(a).forEach(function(a,b){void 0===d[a]?b instanceof h.classes.RESULT?(d["__"+a+"__"]=b.url,d[a]=b.hooks_map()):"object"===typeof b?(d[a]={},d[a]=p.update(b,d[a].__conditions__,d[a],
null!==e?void 0!==e[a]?e[a].hooks:null:null)):d[a]=!0:b instanceof h.classes.RESULT||"object"!==typeof b||(d[a]=p.update(b,d[a].__conditions__,d[a],null!==e?void 0!==e[a]?e[a].hooks:null:null))});d.__conditions__=void 0!==b?b:null;null!==e&&_object(e).forEach(function(a,b){void 0===d["__"+a+"__"]&&"object"===typeof b&&void 0!==b.url?(d["__"+a+"__"]=b.url,void 0!==b.hooks&&(d[a]=p.update(d[a],null,null,b.hooks))):void 0!==d["__"+a+"__"]&&"object"===typeof b&&void 0!==b.url&&(d[a]=p.update(d[a],null,
null,b.hooks))});return d},convertHooks:function(a,c){var e=[];c=c instanceof Array?c:[c];var f=p.update(c,a.__conditions__,a);c.forEach(function(a){var c={};_object(a).forEach(function(a,e){if(void 0!==f[a])"boolean"===typeof f[a]&&!0===f[a]?c[a]=e:"object"===typeof f[a]&&void 0!==f["__"+a+"__"]&&"object"===typeof e&&null!==e?c[a]=d.instance({url:f["__"+a+"__"],conditions:f[a].__conditions__,hooks:p.convertHooks(f[a],e)}):flex.logs.log(m.instance.NO_URL_FOR_CLONE_HOOK+"("+b.url+")",flex.logs.types.WARNING);
else throw flex.logs.log(m.instance.BAD_HOOK_FOR_CLONE+"("+b.url+")",flex.logs.types.CRITICAL),m.instance.BAD_HOOK_FOR_CLONE;});e.push(c)});return e},clone:function(a,c,e){a=p.convertHooks(a,c);if(0<a.length)return e=d.instance({url:b.url,hooks:a,callbacks:{success:"function"===typeof e?e:null}}).render(!0),e instanceof h.classes.RESULT?e.nodeList():null}},u={build:function(a){a instanceof Array?a.forEach(function(b,c){a[c]=u.build(a[c])}):null!==a&&_object(a).forEach(function(b,c){"function"===typeof c?
a[b]=c():"object"===typeof c&&null!==c&&(u.convertObj(c,a,b),delete a[b])});return a},apply:function(a,b,c,e){null!==a&&_object(b).forEach(function(b,d){var g=void 0!==e[b]?void 0!==e[b].hooks?e[b].hooks:null:null;void 0!==a[b]?(a[b]instanceof h.classes.RESULT&&(f.current["__"+b+"__"]=a[b].map().original,k.current.model["__"+b+"__"]=a[b].model(),k.current.binds["__"+b+"__"]=a[b].binds(),A.current["__"+b+"__"]=a[b].dom().original,c[b]=a[b].hooks_map(),null!==g&&(g=p.update(null,null,c[b],g),a[b].hooks_map(g))),
d(a[b])):d("")})},convertObj:function(a,b,c){_object(a).forEach(function(a,e){var d=c+"."+a;"object"===typeof e&&null!==e?u.convertObj(e,b,d):b[d]=e})}},f={current:{},map:{},update:function(a){var b={__context:0<a.childNodes.length?a.childNodes[0]:null};"object"===typeof f.current&&null!==f.current&&_object(f.current).forEach(function(a,c){b[a]=c});f.map.push(b)},reset:function(){f.map=[]},iteration:function(){f.current={}},collapse:function(a){function b(a){var c=null;a instanceof Array?(c=[],a.forEach(function(a){c.push(b(a))})):
(c={},void 0!==a.__context&&(c.__context=n.map.create(a.__context.parentNode)),_object(a).forEach(function(a,e){"__context"!==a&&("object"===typeof e||e instanceof Array)&&(c[a]=b(e))}));return c}return{map:b(a),original:a,update:function(){this.map=f.collapse(this.original).map}}}},k={current:null,model:null,binds:null,map:function(a,b){var e=_nodes("*["+h.css.attrs.MODEL_DATA+"]",!1,a).target;0<e.length&&Array.prototype.forEach.call(e,function(a){var e=JSON.parse(a.getAttribute(h.css.attrs.MODEL_DATA));
e instanceof Array&&e.forEach(function(e){var d;void 0===k.current.binds[e.model]&&(k.current.binds[e.model]=[]);void 0!==e.text?(d=c.getTextNode(a,e.text),null!==d&&(d.nodeValue=void 0!==b[e.model]?b[e.model]:"",k.current.binds[e.model].push({node:d,attr:null,prop:"nodeValue",style:null}))):k.current.binds[e.model].push({node:a,attr:void 0===e.attr?null:e.attr,prop:void 0===e.prop?null:e.prop,style:void 0===e.style?null:e.style})})});_object(b).forEach(function(a,b){void 0===k.current.binds[a]&&
(k.current.binds[a]=b)});return k.current.binds},update:function(a,b){k.map(a,b);(function(a,b){function e(a){var b="";a.split("-").forEach(function(a,c){0<c&&(a=String.prototype.toUpperCase.apply(a.charAt(0))+a.substr(1,a.length-1));b+=a});return b}function d(a,b,c,e){var f=c+e;a instanceof Array&&a.forEach(function(a){a.state_code!==f&&(a.state_code=f,a.call(b,c,e))})}function f(a,b,g,m,k){null!==b.attr&&function(a,b,c,e,f){_node(c).bindingAttrs().bind(e,function(c,e,g){a[b]!==e&&(a[b]=e,d(f,this,
c,e))})}(g,a,b.node,b.attr,m);null!==b.style&&function(a,b,c,e,f){_node(c).bindingProps().bind("style."+e,function(c,e,g){a[b]!==e&&(a[b]=e,d(f,this,c,e))})}(g,a,b.node,e(b.style),m);c.binds.isPossible(b.node,k)?function(a,b,e,f,g){c.binds.assing(e,k,function(c,e,m){c=e();a[b]!==c&&(a[b]=c,d(g,this,f,c))})}(g,a,b.node,b.attr,m):null!==b.prop&&function(a,b,c,e,f){_node(c).bindingProps().bind(e,function(c,e,g){a[b]!==e&&(a[b]=e,d(f,this,c,e))})}(g,a,b.node,b.prop,m)}function g(a,b,c,f,m){null!==b.attr&&
function(a,b,c,e,f){a[b]=c.getAttribute(e);_object(a).binding().bind(b,function(a,b){var g=!1;c.getAttribute(e)!==a&&(c.setAttribute(e,a),g=!0);void 0!==c[e]&&c[e]!==a&&(c[e]=a,g=!0);g&&d(f,c,e,a)})}(c,a,b.node,b.attr,f);null!==b.style&&function(a,b,c,e,f){a[b]=c.style[e];_object(a).binding().bind(b,function(a,b){c.style[e]!==a&&(c.style[e]=a,d(f,c.style,e,a))})}(c,a,b.node,e(b.style),f);null!==b.prop&&void 0!==b.node[m]&&function(a,b,c,e,f){a[b]=c[e];_object(a).binding().bind(b,function(a,b){c[e]!==
a&&(c[e]=a,d(f,c,e,a))})}(c,a,b.node,m,f)}null!==a&&_object(a).forEach(function(e,m){var k=[];c.testReg(h.regs.GROUP_PROPERTY,e)||(b[e]=null,m instanceof Array?m.forEach(function(a){var c=null!==a.prop?a.prop:a.attr;a.node[h.storage.NODE_BINDING_DATA]={outcome_call:!1};f(e,a,b,k,c);g(e,a,b,k,c)}):function(a,b,c,e){a[b]=c;_object(a).binding().bind(b,function(a,b){d(e,null,null,a)})}(b,e,m,k),a[e]={addHandle:function(a){a.state_code=null;a.id=flex.unique();this.handles.push(a);return a.id},removeHandle:function(a){var b=
-1;this.handles.forEach(function(c,e){c.id===a&&(b=e)});-1!==b&&this.handles.splice(b,1)},handles:k},a[e].addHandle.bind(a[e]),a[e].removeHandle.bind(a[e]))})})(k.current.binds,k.current.model);k.model.push(k.current.model);k.binds.push(k.current.binds)},clear:function(a){a=_nodes("*["+h.css.attrs.MODEL_DATA+"]",!1,a).target;0<a.length&&Array.prototype.forEach.call(a,function(a){a.removeAttribute(h.css.attrs.MODEL_DATA)})},reset:function(){k.model=[];k.binds=[]},iteration:function(){k.current={model:{},
binds:{}}},getLast:function(){return{model:k.model instanceof Array?k.model[k.model.length-1]:k.model,binds:k.binds instanceof Array?k.binds[k.binds.length-1]:k.binds}},getDefaults:function(a,b){var c={};_object(a).forEach(function(a,e){void 0===b[a]&&(c[a]=e)});return c},changes:{attach:function(a,b,c){a.model()instanceof Array&&(a.model(new Y(a.model())),function(a,b,c){a.model().bind("add",function(e){var d=null,f=this,g=null,d=p.clone(a.hooks_map(),e.item,function(b,c){f[e.index]=c.model;a.binds().splice(e.index,
0,c.binds);a.dom().original instanceof Array&&a.dom().original.splice(e.index,0,c.dom.original[0]);a.map().original instanceof Array&&a.map().original.splice(e.index,0,c.map.original[0]);return!1});b.splice(e.index,0,d.getAsArray());1<b.length?e.index<b.length-1?(g=b[e.index+1][0],null!==g.parentNode&&d.insertBefore(g)):(g=b[0][0],null!==g.parentNode&&d.append(g.parentNode)):d.insertBefore(c)});a.model().bind("remove",function(c){void 0!==b[c.index]&&b[c.index]instanceof Array&&b[c.index].forEach(function(a){a.parentNode.removeChild(a)});
b.splice(c.index,1);a.binds().splice(c.index,1);a.dom().original instanceof Array&&a.dom().original.splice(c.index,1);a.map().original instanceof Array&&a.map().original.splice(c.index,1)})}(a,b,c))}}},A={current:null,dom:null,update:function(a){0<Object.keys(A.current).length&&_object(A.current).forEach(function(b,c){a[b]=c});A.dom.push(a)},reset:function(){A.dom=[]},iteration:function(){A.current={}},collapse:function(a){function b(a,c,e){function f(a,b){function c(a,b){Array.prototype.forEach.call(a,
function(c,e){var f=1<a.length?b.concat([e]):b;void 0!==c[h.other.INDEXES]&&-1===d.indexOf(c)&&(d.push(c),delete c[h.other.INDEXES]);if(void 0===c[h.other.INDEXES]||c[h.other.INDEXES].length<f.length)c[h.other.INDEXES]=1<a.length?b.concat([e]):b})}a instanceof NodeList?c(a,b):a instanceof n.nodeList.NODE_LIST&&a.collections.forEach(function(a){c(a,b)})}function g(a,b,c){var e=[],d=[];if(0<a.length&&"object"===typeof a[0]&&null!==a[0])return _object(a[0]).forEach(function(a){e.push(a)}),e.forEach(function(e){b[e]=
[];a.forEach(function(a,m){a[e]instanceof NodeList||a[e]instanceof n.nodeList.NODE_LIST?(b[e].push(a[e]),f(a[e],c.concat([m]))):a[e]instanceof Array?(b[e].push({}),g(a[e],b[e][b[e].length-1],c.concat([m])),-1===d.indexOf(e)&&d.push(e)):"object"!==typeof a[e]||null===a[e]||a[e]instanceof n.nodeList.NODE_LIST||(b[e].push(a[e]),-1===d.indexOf(e)&&d.push(e))})}),d.forEach(function(a){var e=b[a];b[a]={};g(e,b[a],c)}),_object(b).forEach(function(a,c){var e=n.nodeList.create();c instanceof Array&&(c.forEach(function(a){e.add(a)}),
b[a]=e)}),b[name]}_object(a).forEach(function(a,d){d instanceof Array?(c[a]={},g(d,c[a],e)):d instanceof NodeList?(f(d,e),c[a]=n.nodeList.create(d)):"object"===typeof d&&(c[a]={},b(d,c[a],e))})}function c(a){var b=null;a instanceof Array?(b=[],a.forEach(function(a){b.push(c(a))})):a instanceof NodeList?b=n.nodeList.create(a):"object"!==typeof a||null===a||a instanceof n.nodeList.NODE_LIST||(b={},_object(a).forEach(function(a,e){b[a]=c(e)}));return b}var e=[],d=[];null!==a&&b(a,e,[]);return{listed:c(a),
grouped:e,original:a,update:function(){var b=A.collapse(a);this.grouped=b.grouped;this.listed=b.listed}}}},q={get:function(a,b){var c={};null!==b&&_object(b).forEach(function(b,e){c[b]=e(a)});return 0<Object.keys(c).length?c:null},setDefault:function(a){var c=e.storage.get(b.url);if("object"===typeof c&&null!==c){if("object"!==typeof a||null===a)a={};_object(c).forEach(function(b,c){void 0===a[b]&&(a[b]=c)});a=0<Object.keys(a).length?a:null}return a},tracking:function(a,b,c){var e=[];"object"===typeof a&&
null!==a&&(_object(a).forEach(function(d,f){if("function"===typeof f)if(void 0!==f.tracking&&void 0!==b[d])f.tracking=f.tracking instanceof Array?f.tracking:[f.tracking],f.tracking.forEach(function(f){var g={},m=k.getLast(),K=null;void 0!==m.binds[f]&&"function"===typeof m.binds[f].addHandle&&(_object(c).forEach(function(a,b){g[a]=void 0!==m.model[a]?function(){return m.model[a]}:b}),K=function(a,b,c,e){return function(){var d={},f=null;_object(c).forEach(function(a,b){d[a]="function"===typeof b?
b():b});f=a[b](d);0<e[b].__included.length&&e[b].__included.forEach(function(b){"function"===typeof a[b]&&void 0!==e[b]&&void 0!==a[b].tracking&&e[b].__unblock()});e[b].__update(f);void 0!==e[b][f]&&0<e[b][f].included.length&&e[b][f].included.forEach(function(b){var c;"function"===typeof a[b]&&void 0!==e[b]&&void 0!==a[b].tracking&&(c=a[b](d),e[b].__update(c))});0<e[b].__included.length&&e[b].__included.forEach(function(b){"function"===typeof a[b]&&void 0!==e[b]&&void 0!==a[b].tracking&&e[b].__block()})}}(a,
d,g,b),m.binds[f].addHandle(K),e.push(K))});else{var g=f(c);void 0!==b[d]&&_object(b[d]).forEach(function(a,c){a!==g&&void 0!==c.del&&(c.del(),b[d][a]=null,delete b[d][a])})}}),e.forEach(function(a){a()}))}},E={apply:function(a,c,e){e=g.storage.get(null!==e?[e,b.url]:b.url);null!==e&&e.forEach(function(b){D.handle(b,a,c)})}},D={build:function(c){var e=null,d=null,g=null,m=document.createTextNode(""),h=[m],n=[];null!==c.hooks&&(f.reset(),k.reset(),A.reset(),c.conditions=q.setDefault(c.conditions),
c.hooks=u.build(c.hooks),d=p.update(c.hooks,c.conditions,null,c.map),c.hooks=c.hooks instanceof Array?c.hooks:[c.hooks],c.hooks.forEach(function(b){var g=null;e=a.pattern(q.get(b,c.conditions),c.conditions);f.iteration();k.iteration();A.iteration();u.apply(b,e.setters,d,c.map);f.update(e.clone);k.update(e.clone,k.getDefaults(b,e.setters));k.clear(e.clone);A.update(e.dom);g=e.applyConditions();n.push(Array.prototype.filter.call(e.clone.childNodes,function(){return!0}));n[n.length-1].push(document.createTextNode(""));
h=h.concat(n[n.length-1]);q.tracking(c.conditions,g,b)}));g=l.instance({url:b.url,nodes:h,map:f.collapse(f.map),model:k.model,binds:k.binds,dom:A.collapse(A.dom),hooks_map:d,instance:a.__instance,handle:function(a,b){return D.handle(a,g,b)}});k.changes.attach(g,n,m);E.apply(g,c.resources,c.component);return g},handle:function(a,b,c){function e(a){function b(a){if(a instanceof Array||a instanceof Y)return a.forEach(function(c,e){a[e]=b(c)}),1===a.length?a[0]:a;if("object"===typeof a)return _object(a).forEach(function(c,
e){-1!==c.indexOf("__")&&(e instanceof Array||e instanceof Y?(e.forEach(function(e,d){a[c][d]=b(e)}),a[c]=1===e.length?e[0]:e):"object"===typeof e&&(a[c]=b(e)))}),a}return{model:b(a.model),binds:b(a.binds),map:b(a.map.map),dom:{grouped:b(a.dom.grouped),listed:b(a.dom.listed)},resources:a.resources}}var d=null,f=null;"function"===typeof a&&(f={model:b.model(),binds:b.binds(),map:b.map(),dom:b.dom(),resources:c},d=e(f),a.call(b,d,f))},bind:function(a){return function(){return D.build(a)}}},r={build:D.build,
handle:D.handle,controllers:{apply:E.apply},bind:D.bind,clone:p.clone};return{build:r.build,handle:r.handle,controllers:{apply:r.controllers.apply},bind:r.bind,clone:r.clone}},instance:function(a){return!1!==flex.oop.objects.validate(a,[{name:"url",type:"string"},{name:"pattern",type:"function"}])?_object({parent:h.classes.INSTANCE,constr:function(){this.url=flex.system.url.restore(a.url)},privates:{pattern:a.pattern},prototype:n.proto}).createInstanceClass():null},storage:{add:function(a,b){var c=
flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.PATTERNS,{});void 0===c[a]&&(c[a]=b)},get:function(a){var b=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.PATTERNS,{});return void 0!==b[a]?b[a]:null}},init:function(a,b){var c=n.storage.get(a);null===c&&void 0!==b&&(c=n.instance({url:a,pattern:b}),n.storage.add(a,c));return c},nodeList:{NODE_LIST:function(a){a instanceof NodeList?this.collections=[a]:c.isNode(a)?this.collections=[[a]]:this.collections=[]},init:function(){n.nodeList.NODE_LIST.prototype=
{add:function(a){a instanceof NodeList?this.collections.push(a):a instanceof n.nodeList.NODE_LIST?this.collections=this.collections.concat(a.collections):c.isNode(a)&&this.collections.push([a])},css:function(a){var b=this;"object"===typeof a&&null!==a&&_object(a).forEach(function(a,c){b.collections.forEach(function(b){Array.prototype.forEach.call(b,function(b){void 0!==b.style[a]&&(b.style[a]=c)})})})},addClass:function(a){this.collections.forEach(function(b){Array.prototype.forEach.call(b,function(b){var c=
b.className.replace(/\s{2,}/gi,"").split(" ");-1===c.indexOf(a)&&(c.push(a),b.className=c.join(" "))})})},removeClass:function(a){this.collections.forEach(function(b){Array.prototype.forEach.call(b,function(b){var c=b.className.replace(/\s{2,}/gi,"").split(" "),e=c.indexOf(a);-1!==e&&(c.splice(e,1),b.className=c.join(" "))})})},show:function(){this.collections.forEach(function(a){Array.prototype.forEach.call(a,function(a){a.style.display=void 0!==a.__display?a.__display:"block"})})},hide:function(){this.collections.forEach(function(a){Array.prototype.forEach.call(a,
function(a){a.__display=a.style.display;a.style.display="none"})})},remove:function(){this.collections.forEach(function(a){Array.prototype.forEach.call(a,function(a){void 0!==a.parentNode&&null!==a.parentNode&&a.parentNode.removeChild(a)})});this.collections=[]},append:function(a){"function"===typeof a.appendChild&&this.collections.forEach(function(b){Array.prototype.forEach.call(b,function(b){a.appendChild(b)})})},insertBefore:function(a){void 0!==a.parentNode&&null!==a.parentNode&&"function"===
typeof a.parentNode.insertBefore&&c.isNode(a)&&this.collections.forEach(function(b){Array.prototype.forEach.call(b,function(b){a.parentNode.insertBefore(b,a)})})},attr:function(a,b){var c=[];this.collections.forEach(function(e){Array.prototype.forEach.call(e,function(e){void 0!==b?(e.setAttribute(a,b),c.push(!0)):c.push(e.getAttribute(a))})});return 1===c.length?c[0]:c},removeAttr:function(a){var b=[];this.collections.forEach(function(c){Array.prototype.forEach.call(c,function(c){b.push(c.removeAttribute(a))})});
return 1===b.length?b[0]:b},on:function(a,b){if("function"===typeof b)this.collections.forEach(function(c){Array.prototype.forEach.call(c,function(c){var e=n.nodeList.create(c);e.indexes=c[h.other.INDEXES];flex.events.DOM.add(c,a,b.bind(e))})});else throw Error("Defined [handle] is not a function");},getAsArray:function(){var a=[];this.collections.forEach(function(b){Array.prototype.forEach.call(b,function(b){a.push(b)})});return a}}},create:function(a){return new n.nodeList.NODE_LIST(a)},addMethod:function(a,
b){"string"===typeof a&&"function"===typeof b&&(void 0!==n.nodeList.NODE_LIST.prototype[a]&&flex.logs.log("Method ["+a+"] of NODE_LIST list class was overwritten.",flex.logs.types.NOTIFICATION),n.nodeList.NODE_LIST.prototype[a]=b)}},map:{MAP:function(a){if(void 0!==a&&void 0!==a.nodeType)this.context=a;else throw Error("Context [context] should be a node.");},init:function(){n.map.MAP.prototype={select:function(a){a=_nodes(a,!1,this.context);return null!==a.target&&0<a.target.length?1<a.target.length?
a.target:a.target[0]:null}}},create:function(a){return new n.map.MAP(a)}}},l={proto:function(a){var b=null,c=b=null,e=null,c=function(b){return a.instance.clone(a.hooks_map,b)},b=function(b,c,e,d){null!==b?Array.prototype.forEach.call(b,function(b){a.nodes.forEach(function(a){d?b.parentNode.insertBefore(a,b):b.appendChild(a)});d&&b.parentNode.removeChild(b)}):null!==c&&void 0!==c.parentNode&&null!==c.parentNode?Array.prototype.forEach.call(c,function(b){a.nodes.forEach(function(a){c.parentNode.insertBefore(a,
c)})}):null!==e&&void 0!==e.parentNode&&null!==e.parentNode&&Array.prototype.forEach.call(e,function(b){var c=void 0!==e.nextSibling?e.nextSibling:null;null!==c?a.nodes.forEach(function(a){c.parentNode.insertBefore(a,c)}):a.nodes.forEach(function(a){e.parentNode.appendChild(a)})});flex.events.core.fire(flex.registry.events.ui.patterns.GROUP,flex.registry.events.ui.patterns.MOUNTED,a.nodes)},e=function(){var b=null;a.nodes instanceof Array&&(b=n.nodeList.create(),a.nodes.forEach(function(a){b.add(a)}));
return b},b={nodes:function(){return a.nodes},nodeList:function(){return e()},map:function(b){void 0!==b&&(a.map=b);return a.map},model:function(b){void 0!==b&&(a.model=b);return a.model},dom:function(b){void 0!==b&&(a.dom=b);return a.dom},binds:function(b){void 0!==b&&(a.binds=b);return a.binds},handle:function(){return a.handle},hooks_map:function(){return a.hooks_map},instance:function(){return a.instance},clone:c,mount:b};return{nodes:b.nodes,nodeList:b.nodeList,mount:b.mount,map:b.map,dom:b.dom,
model:b.model,binds:b.binds,hooks_map:b.hooks_map,instance:b.instance,handle:b.handle,clone:b.clone}},instance:function(a){return!1!==flex.oop.objects.validate(a,[{name:"url",type:"string"},{name:"nodes",type:"array"},{name:"handle",type:"function"},{name:"hooks_map",type:"object",value:null},{name:"instance",type:"object",value:null},{name:"map",type:["object","array"],value:null},{name:"model",type:["object","array"],value:null},{name:"dom",type:["object","array"],value:null},{name:"binds",type:["object",
"array"],value:null}])?_object({parent:h.classes.RESULT,constr:function(){this.url=flex.system.url.restore(a.url)},privates:{nodes:a.nodes,map:a.map,model:a.model,binds:a.binds,dom:a.dom,handle:a.handle,hooks_map:a.hooks_map,instance:a.instance},prototype:l.proto}).createInstanceClass():null}},d={proto:function(a){var b=this,c=null,e=null,f=null,g=null,k=c=null,e={reset:function(){a.patterns={}},find:function(c){c=c instanceof Array?c:[c];null!==c&&c.forEach(function(b){_object(b).forEach(function(b,
c){c instanceof h.classes.CALLER&&void 0===a.patterns[c.url]&&(a.patterns[c.url]=c.url,e.find(c.hooks()))})});void 0===a.patterns[b.url]&&(a.patterns[b.url]=b.url)}},k={getStructure:function(b){function c(a,b){Array.prototype.forEach.call(a,function(a){var e=a.nodeName.toLowerCase(),d={};d.url=a.hasAttribute("src")?a.getAttribute("src"):null;if(null!==d.url)d.sub={},0<a.children.length&&c(a.children,d.sub),void 0!==b[e]?b[e]instanceof Array?b[e].push(d):b[e]=[b[e],d]:b[e]=d;else throw flex.logs.log(m.SIGNATURE+
"If you use inside template other templates, you cannot use nothing else. And src should be defined fro all included templates.",flex.logs.types.CRITICAL),Error(m.caller.PATTERN_WITHOUT_SRC);})}function e(a,b,c){function d(a,b,c,f){_object(a).forEach(function(a,c){b[a]=c});void 0!==c[f].sub&&e(c[f].sub,a,b)}_object(a).forEach(function(e,f){if(f instanceof Array)throw flex.logs.log(m.SIGNATURE+"You cannot use templates in templates in same level. You can only include template into templates. Problematic hook: "+
e+".",flex.logs.types.CRITICAL),Error(m.caller.ONLY_ONE_TEMPLATE_ON_SAME_LEVEL);c[e]={url:f.url,hooks:{}};void 0===b[e]||null===b[e]||"object"!==typeof b[e]||b[e]instanceof Array?b[e]instanceof Array&&(c[e].hooks=[],b[e].forEach(function(b){var f={};d(b,f,a,e);c[e].hooks.push(f)})):d(b[e],c[e].hooks,a,e)})}var d=document.createElement("div"),f={},g={},k={};d.innerHTML=b;c(d.children,f);if(void 0!==f[r.values.PATTERN_NODE.toLowerCase()])return k[r.values.PATTERN_NODE.toLowerCase()]=a.hooks,e(f,k,g),
g[r.values.PATTERN_NODE.toLowerCase()];throw Error(m.caller.CANNOT_FIND_ROOT_TEMPLATE);},addGetters:function(a){void 0!==a.hooks&&(a.hooks instanceof Array?a.hooks.forEach(function(b,c){_object(b).forEach(function(b,e){"object"!==typeof e||e instanceof Array||void 0===e.url||(a.hooks[c][b]=d.instance({url:e.url,hooks:k.addGetters(e)}))})}):"object"===typeof a.hooks&&_object(a.hooks).forEach(function(b,c){"object"!==typeof c||c instanceof Array||void 0===c.url||(a.hooks[b]=d.instance({url:c.url,hooks:k.addGetters(c)}))}));
return a.hooks},process:function(c){var e={};return(new RegExp("<\\s*"+r.values.PATTERN_NODE+"\\s{1,}src\\s*=")).test(c)?(e=k.getStructure(c),_object(a).forEach(function(a,b){-1===["hooks","__instance","pattern"].indexOf(a)&&(e[a]=b)}),e.component=b.url,k.addGetters(e),d.instance(e)):!1}},f={values:{caller:function(c){var e=n.init(c.url),d=c.hooks();if(null===e)throw flex.logs.log(g()+m.caller.CANNOT_GET_CHILD_PATTERN+"("+c.url+")",flex.logs.types.CRITICAL),flex.system.handle(a.callbacks.fail,b.url),
m.caller.CANNOT_GET_CHILD_PATTERN;f.apply(d);return e.bind({hooks:d,resources:c.resources(),conditions:c.conditions(),component:c.component(),map:c.map()})}},value:function(a){function b(a){return a instanceof h.classes.CALLER?f.values.caller(a):"function"===typeof a?b(a()):a}return void 0!==a?b(a):""},apply:function(b){b=void 0!==b?b:a.hooks;b instanceof Array?b.forEach(function(a,c){b[c]=f.apply(b[c])}):"object"===typeof b&&null!==b&&_object(b).forEach(function(a,c){b[a]=f.value(c)});return b},
defaults:function(){function c(a,b){_object(a).forEach(function(a,e){void 0===b[a]?b[a]=e:null!==b[a]&&"object"===typeof b[a]&&c(e,b[a])})}var e=D.storage.get(b.url);null!==e&&"object"===typeof e&&c(e,a.hooks);return!0}},c=function(c){if("boolean"===typeof c&&c){if(f.apply(),a.pattern=n.init(b.url),null!==a.pattern&&(a.pattern=a.pattern.build({hooks:a.hooks,resources:a.resources,conditions:a.conditions,component:a.component,map:a.map}),a.pattern instanceof h.classes.RESULT))return a.pattern.handle()(a.callbacks.success,
a.resources),a.pattern}else e.reset(),e.find(a.hooks),q.init(function(){function b(a){"object"===typeof a&&_object(a).forEach(function(a,e){var d;void 0!==e.url&&(d=flex.system.url.restore(e.url),-1===c.indexOf(d)&&c.push(d),void 0!==e.hooks&&b(e.hooks))})}var c=[];_object(a.patterns).forEach(function(a){c.push(a)});b(a.map);return c}(),function(c){f.defaults();c=1===c.length?k.process(c[0].html()):null;if(null!==c)c.render(!1,b.url);else if(f.apply(),a.pattern=n.init(b.url),null!==a.pattern)a.pattern=
a.pattern.build({hooks:a.hooks,resources:a.resources,conditions:a.conditions,component:a.component,map:a.map}),a.pattern instanceof h.classes.RESULT&&(a.pattern.mount(a.node,a.before,a.after,a.replace),null!==a.callbacks.success&&a.pattern.handle()(a.callbacks.success,a.resources));else throw flex.logs.log(g()+m.caller.CANNOT_GET_PATTERN,flex.logs.types.CRITICAL),flex.system.handle(a.callbacks.fail,b.url),m.caller.CANNOT_GET_PATTERN;},function(){flex.logs.log(g()+m.caller.CANNOT_INIT_PATTERN,flex.logs.types.CRITICAL);
flex.system.handle(a.callbacks.fail,b.url);throw m.caller.CANNOT_INIT_PATTERN;})},g=function(){return m.SIGNATURE+":: caller ("+b.url+")"},c={render:c,hooks:function(){return a.hooks},resources:function(){return a.resources},conditions:function(){return a.conditions},component:function(){return a.component},map:function(){return a.map}};return{render:c.render,hooks:c.hooks,conditions:c.conditions,resources:c.resources,component:c.component,map:c.map}},instance:function(a){return!1!==flex.oop.objects.validate(a,
[{name:"url",type:"string"},{name:"node",type:["node","string","array","NodeList"],value:null},{name:"before",type:["node","string","array","NodeList"],value:null},{name:"after",type:["node","string","array","NodeList"],value:null},{name:"id",type:"string",value:flex.unique()},{name:"replace",type:"boolean",value:!1},{name:"hooks",type:["object","array"],value:null},{name:"conditions",type:"object",value:null},{name:"callbacks",type:"object",value:{}},{name:"map",type:"object",value:{}},{name:"resources",
type:"object",value:{}},{name:"remove_missing_hooks",type:"boolean",value:!0},{name:"component",type:"string",value:null}])?(flex.oop.objects.validate(a.callbacks,[{name:"before",type:"function",value:null},{name:"success",type:"function",value:null},{name:"fail",type:"function",value:null}]),_object({parent:h.classes.CALLER,constr:function(){this.url=flex.system.url.restore(a.url)},privates:{id:a.id,node:null!==a.node?"string"===typeof a.node?_nodes(a.node).target:a.node instanceof Array?a.node:
a.node instanceof NodeList?a.node:[a.node]:null,before:null!==a.before?"string"===typeof a.before?_nodes(a.before).target:a.before instanceof Array?a.before:a.before instanceof NodeList?a.before:[a.before]:null,after:null!==a.after?"string"===typeof a.after?_nodes(a.after).target:a.after instanceof Array?a.after:a.after instanceof NodeList?a.after:[a.after]:null,replace:a.replace,hooks:a.hooks,conditions:a.conditions,callbacks:a.callbacks,resources:a.resources,remove_missing_hooks:a.remove_missing_hooks,
map:a.map,resources:a.resources,component:a.component,pattern:null},prototype:d.proto}).createInstanceClass()):null}},k={init:function(a){function b(a){var c=a.parentNode.nodeName.toLowerCase();return c!==r.values.PATTERN_NODE?"body"!==c?b(a.parentNode):!0:!1}var c=_nodes(r.values.PATTERN_NODE).target;a="boolean"===typeof a?a:!1;null!==c&&c instanceof NodeList&&0<c.length&&Array.prototype.forEach.call(c,function(c){b(c)&&((c.hasAttribute("success")||c.hasAttribute("error"))&&a||k.caller(c))})},caller:function(a,
b){function c(a,b){var e=-1;try{a.forEach(function(a,c){if(void 0===a[b])throw e=c,"found";})}catch(d){}return e}function e(a,b){var c=a.getAttribute(b),d=null;return"string"===typeof c&&""!==c?(d=c.split("."),c=window,d.forEach(function(a){c=null!==c&&void 0!==c[a]?c[a]:null}),c):null}var f=null;b=void 0!==b?b:!1;f={url:a.hasAttribute("src")?a.getAttribute("src"):null,hooks:{}};Array.prototype.forEach.call(a.children,function(a){var b,e=a.nodeName.toLowerCase();void 0===f.hooks[e]||f.hooks instanceof
Array||(f.hooks=[f.hooks]);f.hooks instanceof Array?(b=c(f.hooks,e),-1===b&&(f.hooks.push({}),b=f.hooks.length-1),f.hooks[b][e]=0===a.children.length?a.innerHTML:k.caller(a,!0)):f.hooks[e]=0===a.children.length?a.innerHTML:k.caller(a,!0)});"object"===typeof f.hooks&&0===Object.keys(f.hooks).length&&delete f.hooks;return b||null===f.url?null!==f.url?f=d.instance(f):f.hooks:(f.node=a,f.replace=!0,f.callbacks={success:e(a,"success"),error:e(a,"error")},f=d.instance(f).render())},attach:function(){"complete"!==
document.readyState?flex.events.DOM.add(window,"load",function(){k.init(!0)}):k.init(!0)}},g={references:{assign:function(a,b){var c=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.CONTROLLERS_LINKS,{});void 0===c[a]&&(c[a]=b)},getPatternURL:function(a){var b=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.CONTROLLERS_LINKS,{});return void 0!==b[a]?b[a]:null}},storage:{add:function(a,b){var c=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.CONTROLLERS_STORAGE,
{});void 0===c[a]&&(c[a]=[]);c[a].push(b)},get:function(a){var b=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.CONTROLLERS_STORAGE,{});a="string"===typeof a?[a]:a;var c=[];a.forEach(function(a){void 0!==b[a]&&(c=c.concat(b[a]))});return c}},current:{data:null,set:function(a){g.current.data=a},get:function(){return g.current.data},reset:function(){g.current.data=null}},attach:function(a){var b;"function"===typeof a&&(b=null!==g.current.get()?g.current.get():flex.resources.attach.js.getCurrentSRC(),
null!==b&&(b=g.references.getPatternURL(b),g.storage.add(b,a)))}},f={virtual:{add:function(a,b){var c=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.VIRTUAL_STORAGE_ID,{});if(null!==c&&void 0===c[a])return c[a]=b,!0},get:function(a){var b=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.VIRTUAL_STORAGE_ID,{});return null!==b?void 0!==b[a]?b[a]:null:null}},local:{add:function(a,b){return!0===h.storage.USE_LOCALSTORAGE?flex.localStorage.addJSON(a,{html:b,hash:flex.hashes.get(a)}):
!1},get:function(a){var b;return!0===h.storage.USE_LOCALSTORAGE&&(flex.hashes.update(a),b=flex.localStorage.getJSON(a),null!==b&&b.hash===flex.hashes.get(a))?b.html:null}},add:function(a,b){f.local.add(a,b);f.virtual.add(a,b)},get:function(a){var b=f.virtual.get(a);null===b&&(b=f.local.get(a));return b}},b={measure:function(){var a={};return function(b,c){if(h.measuring.MEASURE)return b=void 0===b?flex.unique():b,void 0===a[b]?a[b]=performance.now():(flex.logs.log(m.SIGNATURE+"Operation ["+c+"] was taken "+
(performance.now()-a[b]).toFixed(4)+"ms.",flex.logs.types.NOTIFICATION),delete a[b]),b}}()},e={storage:{add:function(a,b){flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.CONDITIONS_STORAGE,{})[a]=b},get:function(a){var b=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.CONDITIONS_STORAGE,{});return void 0!==b[a]?b[a]:null}},attach:function(a){var b;"object"===typeof a&&null!==a&&(b=null!==g.current.get()?g.current.get():flex.resources.attach.js.getCurrentSRC(),
null!==b&&(b=g.references.getPatternURL(b),e.storage.add(b,a)))}},D={storage:{add:function(a,b){flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.HOOKS_STORAGE,{})[a]=b},get:function(a){var b=flex.overhead.globaly.get(h.storage.VIRTUAL_STORAGE_GROUP,h.storage.HOOKS_STORAGE,{});return void 0!==b[a]?b[a]:null}},attach:function(a){var b;"object"===typeof a&&null!==a&&(b=null!==g.current.get()?g.current.get():flex.resources.attach.js.getCurrentSRC(),null!==b&&(b=g.references.getPatternURL(b),
D.storage.add(b,a)))}},c={testReg:function(a,b){a.lastIndex=0;return a.test(b)},binds:{data:{value:[{nodes:["input","textarea"],event:"change",getter:function(){return this.value},setter:function(a){this.value=a}}]},assing:function(a,b,e){var d=a.nodeName.toLowerCase(),f=null;void 0!==c.binds.data[b]&&(c.binds.data[b].forEach(function(a){-1!==a.nodes.indexOf(d)&&(f=a)}),null!==f&&function(a,b,c,e,d){_node(b).events().add(a,function(a){d.call(b,a,c,e)})}(f.event,a,f.getter.bind(a),f.setter.bind(a),
e));return!1},isPossible:function(a,b){var e=a.nodeName.toLowerCase();if(void 0!==c.binds.data[b])try{c.binds.data[b].forEach(function(a){if(-1!==a.nodes.indexOf(e))throw"found";})}catch(d){return"found"===d?!0:!1}return!1}},isNode:function(a){return void 0!==a&&void 0!==a.nodeName&&void 0!==a.parentNode&&void 0!==a.nodeType?!0:!1},tableFix:function(a){var b=a.match(h.regs.TABLE),c=[];b instanceof Array&&(b.forEach(function(a){a=a.replace(h.regs.TABLE_TAG,"").replace(h.regs.ANY_TAG,"");a=a.match(h.regs.HOOK);
a instanceof Array&&(c=c.concat(a))}),c.forEach(function(b){var c=b.replace(h.regs.HOOK_BORDERS,"");a=a.replace(new RegExp(h.regs.HOOK_OPEN+c+h.regs.HOOK_CLOSE,"gi"),"\x3c!--"+b+"--\x3e")}));return a},getTextNode:function(a,b){var c=null;if(void 0!==a.childNodes)try{Array.prototype.forEach.call(a.childNodes,function(a){if(3===a.nodeType&&a.nodeValue===b)throw c=a,"found";})}catch(e){}return c}},A={init:function(){flex.callers.define.node("ui.patterns.append",function(a){"object"===typeof a&&this.target&&
(a.node=this.target);return d.instance(a)});flex.callers.define.nodes("ui.patterns.append",function(){var a=[];Array.prototype.forEach.call(this.target,function(b){"object"===typeof parameters&&this.target&&(parameters.node=this.target);a.push(d.instance(parameters))});return a})}};n.nodeList.init();n.map.init();void 0!==flex.libraries&&void 0!==flex.libraries.events&&void 0!==flex.libraries.binds&&(flex.libraries.events.create(),flex.libraries.binds.create());u={preload:q.init,get:d.instance,controller:{attach:g.attach},
conditions:{attach:e.attach},hooks:{attach:D.attach},classes:{NODE_LIST:{addMethod:n.nodeList.addMethod}},setup:r.setup,debug:r.debug,layout:k.init};A.init();window._controller=u.controller.attach;window._conditions=u.conditions.attach;window._hooks=u.hooks.attach;k.attach();return{preload:u.preload,get:u.get,classes:{NODE_LIST:{addMethod:u.classes.NODE_LIST.addMethod}},setup:u.setup,debug:u.debug,layout:u.layout}};O.prototype=function(){var r=null,h=null,q=null,q=null,h=function(){null===r&&(r=function(){},
r.prototype=function(){function h(b){b.element=void 0!==b.element?b.element:null;b.name="string"===typeof b.name?b.name:null;b.handle="function"===typeof b.handle?b.handle:null;b.id="string"===typeof b.id?b.id:flex.unique();b.once="boolean"===typeof b.once?b.once:!1;b.touch="boolean"===typeof b.touch?b.touch:!0;b.safely="boolean"===typeof b.safely?b.safely:!1;!1===k.has(b.name)&&(b.touch=!1);var c;return null!==b.element&&null!==b.handle&&null!==b.name&&(c=u.get(b.element,!1),null!==c&&(c=d.buildCommonHandle(b.element,
b.name,c,b.touch,b.safely),c instanceof Array))?(c.push(new f(b.id,b.handle,b.once,b.touch)),b.id):null}function n(b,c,e,f,g){c=void 0!==c?c:d.fixEvent();var a=u.get(this,!0),m=null,k=flex.unique(),h=null,l=this,n=!1;f=c.type!==f?f:c.type;var p=null;if(c&&b&&e&&null!==a&&(c=d.unificationEvent(c),a[f]&&(a=a[f],a.element_id===e))){m=a.handles;try{Array.prototype.forEach.call(m,function(a){if(a.interaction!==k){if(a.interaction=k,h=a.launch(l,c),n=!0===n?!0:!1===a.isRemoving()?!1:!0,!1===h)throw c.flex.stop(),
flex.logs.log("Break event in DOM.fire; \n\r >event: "+c.type+"\n\r >handle_id"+a.id+"\n\r >element_id"+e,flex.logs.types.WARNING),"prevent";}else flex.logs.log("Unexpected behavior of handle event in DOM.fire. Attempt to call handle twice. \n\r >event: "+c.type+"\n\r >handle_id"+a.id+"\n\r >element_id"+e,flex.logs.types.LOGICAL)})}catch(q){"prevent"!==q&&(g?flex.logs.log("Unexpected error in DOM.fire; \n\r >event: "+c.type+"\n\r >element_id"+e,flex.logs.types.CRITICAL):p=q)}finally{!1!==n&&(a.handles=
m.filter(function(a){return!1===a.isWorking()&&!1!==a.isRemoving()?!1:!0}),0===a.handles.length&&(d.destroyCommonHandle(b,f),u.clear(b)))}if(null!==p)throw p;return!0}return!1}function l(b){b=function(b){b.element=void 0!==b.element?b.element:null;b.name="string"===typeof b.name?b.name:null;b.handle="function"===typeof b.handle?b.handle:null;var c;"string"===typeof b.id?c=b.id:(c=b.handle,c=void 0!==c[g.HANDLE_EVENT_ID_PROPERTY]?c[g.HANDLE_EVENT_ID_PROPERTY]:null);b.id=c;return b}(b);var c=null,c=
null;if(null!==b.element&&null!==b.name&&(null===b.id&&null!==b.handle&&void 0!==b.handle[g.HANDLE_EVENT_ID_PROPERTY]&&(b.id=b.handle[g.HANDLE_EVENT_ID_PROPERTY]),null!==b.id&&(c=u.get(b.element,!0),"object"===typeof c[b.name]))){c=c[b.name];c=c.handles;try{Array.prototype.forEach.call(c,function(c){if(c.id===b.id)throw c.toRemove(),"handle found";})}catch(e){"handle found"!==e&&flex.logs.log("Unexpected error in DOM.remove; \n\r >event: "+b.name+"\n\r >event_id"+b.id,flex.logs.types.CRITICAL)}finally{c=
c.filter(function(b){return!1===b.isWorking()&&!1!==b.isRemoving()?!1:!0}),0===c.length&&(d.destroyCommonHandle(b.element,b.name),u.clear(b.element))}}}var d=null,k=null,u=null,g={STORAGE_NAME:"FlexEventsStorage",HANDLE_EVENT_ID_PROPERTY:"FlexEventIDProrerty"},f=null,m=null,f=function(b,c,e,d,f){this.id=b;this.handle=c;this.once=e;this.touch=d;this.safely=f;this.remove=!1;this.interaction=null;this.working=!1;this.device=null};f.prototype={launch:function(b,c){var e=null;if(!1===this.remove&&!1===
this.isDouble(c)){try{return this.working=!0,this.remove=this.once,this.handle.call(b,c)}catch(d){if(this.safely)return this.error(c,d),null;e=d}finally{this.working=!1,!0===this.once&&!1===this.remove&&flex.logs.log("Unexpected behavior DOM.fire. Flag [once] is true, but [remove] is false; \n\r >event id"+this.id,flex.logs.types.WARNING)}if(null!==e)throw e;}return null},isWorking:function(){return this.working},isRemoving:function(){return this.remove},toRemove:function(){this.remove=!0},error:function(b,
c){flex.logs.log("event: "+b.type+"; ID: "+this.id+"; generated error: \r\n"+flex.logs.parseError(c),flex.logs.types.WARNING)},isDouble:function(b){b=b.flex.singleTouch?"touch":"mouse";this.device=null===this.device?b:this.device;return this.device===b?!1:!0}};u={get:function(b,c){c="boolean"===typeof c?c:!0;var e;return b?(e=flex.overhead.objecty.get(b,g.STORAGE_NAME),null===e&&!1===c&&(e=flex.overhead.objecty.set(b,g.STORAGE_NAME,{})),e):null},clear:function(b){var c=u.get(b,!0);return null!==c&&
0===Object.keys(c).length?(flex.overhead.objecty.del(b,g.STORAGE_NAME),!0):!1}};d={buildCommonHandle:function(b,c,e,d,f){var a=flex.unique();if("object"!==typeof e[c]){e[c]={globalHandle:function(e){return n.call(b,b,e,a,c,f)},element_id:a,handles:[]};if(!1===flex.events.DOM.add(b,c,e[c].globalHandle))return null;!1!==d&&!1!==k.has(c)&&flex.events.DOM.add(b,k.getType(c),e[c].globalHandle)}return e[c].handles},destroyCommonHandle:function(b,c){var e;return b&&c&&(e=u.get(b,!0),"object"===typeof e[c])?
(flex.events.DOM.remove(b,c,e[c].globalHandle),!1!==k.has(c)&&flex.events.DOM.remove(b,k.getType(c),e[c].globalHandle),e[c]=null,delete e[c],!0):null},fixEvent:function(){return!event&&window.event?window.event:null},unificationEvent:function(b){function c(a){a.flex={};return a}function e(a,b){if(void 0!==b.clientX)if(void 0===b.pageX&&(a.flex.pageX=null,a.flex.pageY=null),null===b.pageX&&null!==b.clientX){var c=document.documentElement,e=document.body;a.flex.pageX=b.clientX+(c&&c.scrollLeft||e&&
e.scrollLeft||0)-(c.clientLeft||0);a.flex.pageY=b.clientY+(c&&c.scrollTop||e&&e.scrollTop||0)-(c.clientTop||0)}else a.flex.pageX=b.pageX,a.flex.pageY=b.pageY;else a.flex.pageX=null,a.flex.pageY=null;a.flex.clientX=void 0!==b.clientX?b.clientX:null;a.flex.clientY=void 0!==b.clientY?b.clientY:null;a.flex.offsetX=void 0!==b.offsetX?b.offsetX:void 0!==b.layerX?b.layerX:null;a.flex.offsetY=void 0!==b.offsetY?b.offsetY:void 0!==b.layerY?b.layerY:null;return a}function d(a){void 0===a.preventDefault&&(a.preventDefault=
function(){try{this.returnValue=!1}catch(a){}});void 0===a.stopPropagation&&(a.stopPropagation=function(){try{this.cancelBubble=!0}catch(a){}});a.flex.stop=function(){a.preventDefault();a.stopPropagation();return!1};return a}function f(a){void 0===a.target&&(a.target=void 0!==a.srcElement?a.srcElement:null);null!==a.target&&void 0===a.relatedTarget&&(void 0!==a.fromElement?a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement:(a.relatedTarget=null,a.fromElement=null));a.flex.target=a.target;
return a}function a(a){void 0===a.which&&void 0!==a.button&&(a.flex.which=a.button&1?1:a.button&2?3:a.button&4?2:0,a.flex.button=a.button);return a}function g(a){"object"===typeof a.touches&&(1===a.touches.length&&(a=e(a,a.touches[0]),a.flex.target=a.touches[0].target,a.flex.singleTouch=!0),a.flex.touches=a.touches);return a}void 0===b.flex&&(b=c(b),b=d(b),b=f(b),b=e(b,b),b=a(b),b=g(b));return b}};k={events:{click:{touch:"touchstart"},dblclick:{touch:"touchstart"},mousedown:{touch:"touchstart"},mouseenter:{touch:"touchenter"},
mouseleave:{touch:"touchleave"},mousemove:{touch:"touchmove"},mouseover:{touch:""},mouseout:{touch:""},mouseup:{touch:"touchend"}},has:function(b){for(var c in k.events)if(c===b||"on"+c===b)return!0;return!1},getType:function(b){for(var c in k.events)if(c===b||"on"+c===b)return k.events[c].touch;return null},getOriginalType:function(b){b=b.toLowerCase();for(var c in k.events)if(k.events[c].touch===b)return c;return null}};m={_add:h,_remove:l,add:function(b,c,e,d,f,a){return h({element:b,name:c,handle:e,
id:d,touch:f,safely:a})},remove:function(b,c,e,d){return l({element:b,name:c,handle:e,id:d})},call:function(b,c,e){function d(a,b){for(var c in b)a[c]=b[c];return a}var f=null,a=null,f=null,f={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};e=d({type:c,canBubble:!0,cancelable:!0,view:b.ownerDocument.defaultView,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,pointerX:0,pointerY:0,ctrlKey:!1,
altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},e||{});for(c in f)if(f[c].test(c)){a=c;break}if(!a)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");document.createEvent?(f=document.createEvent(a),"HTMLEvents"==a?f.initEvent(c,e.bubbles,e.cancelable):f.initMouseEvent(e.type,e.canBubble,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),b.dispatchEvent(f)):(e.clientX=e.pointerX,
e.clientY=e.pointerY,f=document.createEventObject(),f=d(f,e),b.fireEvent("on"+c,f));return b},clear:function(b,c,e){var f=null;e="boolean"===typeof e?e:!1;if(b&&c){f=u.get(b,!0);if(null!==f&&"object"===typeof f[c]){f=f[c];if(!1!==e)try{Array.prototype.forEach.call(f.handles,function(e){flex.logs.log("Event fired in DOM.clear.fire; \n\r>event: "+c+"\n\r>handle_id: "+e.id,flex.logs.types.NOTIFICATION);if(!1===e.launch(b,null))throw"prevent";})}catch(g){"prevent"===g?flex.logs.log("Break event in DOM.clear.fire; \n\r >event: "+
c,flex.logs.types.WARNING):flex.logs.log("Fatal error event in DOM.clear.fire; \n\r >event: "+c,flex.logs.types.WARNING)}f.handles=[];d.destroyCommonHandle(b,c);u.clear(b);return!0}return!1}return null},unify:d.unificationEvent};return{add:m.add,remove:m.remove,clear:m.clear,call:m.call,unify:m.unify,extendedAdd:m._add,extendedRemove:m._remove}}(),r=new r);return r},q={init:function(){flex.callers.define.node("events.add",function(p,n,l,d){return h().add(this.target,p,n,l,d)});flex.callers.define.node("events.remove",
function(p,n,l){return h().remove(this.target,p,n,l)});flex.callers.define.node("events.call",function(p){return h().call(this.target,p)});flex.callers.define.nodes("events.add",function(p,n,l,d){Array.prototype.forEach.call(this.target,function(k){h().add(k,p,n,l,d)})});flex.callers.define.nodes("events.remove",function(p,n,l){Array.prototype.forEach.call(this.target,function(d){h().remove(d,p,n,l)})});flex.callers.define.nodes("events.call",function(p){Array.prototype.forEach.call(this.target,function(n){h().call(n,
p)})})}};q.init();q={DOMEvents:h};return{DOMEvents:q.DOMEvents}};P.prototype=function(){var r=null,h=null,q=null,p=null,n=null,l=null,d=null,k=null,l={objects:{STORAGE_PROPERTY:"flex.object.bind.storage",HANDLE_ID_PROPERTY:"flex.object.bind.handle.id"},attrs:{STORAGE_PROPERTY:"flex.attrs.bind.storage",HANDLE_ID_PROPERTY:"flex.attrs.bind.handle.id"},props:{STORAGE_PROPERTY:"flex.props.bind.storage",HANDLE_ID_PROPERTY:"flex.props.bind.handle.id"}},d={objects:{INCORRECT_ARGUMENTS:"defined incorrect arguments or not defined at all",
PROPERTY_IS_CONST:"cannot kill bind with property, because property now is constant"},support:{DEFINE_PROPERTY:"flex.binds: Current browser does not support Object.defineProperty",MUTATION_SCANNING:"flex.attrs: Current browser does not support any avaliable way to scanning mutation of attributes"}},r={storage:{create:function(d){var g=function(f){this.parent=f;this.binds={}};g.prototype={make:function(f,d){var b=this;return this.binds[f]?!1:(this.binds[f]={current:d,previous:d,setter:function(c){b.binds[f].previous=
b.binds[f].current;b.binds[f].current=c;for(var e in b.binds[f].handles)b.binds[f].handles[e].call(b.parent,b.binds[f].current,b.binds[f].previous,e)},getter:function(){return b.binds[f].current},handles:{}},!0)},add:function(f,d){var b=flex.unique();d[l.objects.HANDLE_ID_PROPERTY]=b;this.binds[f].handles[b]=d;return b},remove:function(d,g){return this.binds[d]&&this.binds[d].handles[g]&&(delete this.binds[d].handles[g],0===Object.keys(this.binds[d].handles).length)?delete this.binds[d]:null},kill:function(d){return this.binds[d]?
delete this.binds[d]:null},isPropertyReady:function(d){return void 0!==this.binds[d]?!0:!1},destroy:function(){return 0===Object.keys(this.binds).length?delete this.parent[l.objects.STORAGE_PROPERTY]:!1},setter:function(d){return this.binds[d].setter},getter:function(d){return this.binds[d].getter}};return new g(d)}},bind:function(k,g,f){var m=l.objects.STORAGE_PROPERTY,b;if(Object.defineProperty){if("object"===typeof k&&"string"===typeof g&&"function"===typeof f){b=k[g];k[m]||(k[m]=r.storage.create(k));
m=k[m];if(!m.isPropertyReady(g))if(delete k[g])m.make(g,b),Object.defineProperty(k,g,{get:m.getter(g),set:m.setter(g),configurable:!0});else return m.destroy(),!1;return m.add(g,f)}throw"object.bind::"+d.objects.INCORRECT_ARGUMENTS;}},unbind:function(k,g,f){var m=l.objects.STORAGE_PROPERTY,b;if("object"===typeof k&&"string"===typeof g&&"string"===typeof f){if(k[m]&&(m=k[m],m.isPropertyReady(g)&&(b=k[g],m.remove(g,f),!m.isPropertyReady(g))))try{return delete k[g],k[g]=b,!0}catch(c){throw"object.unbind::"+
d.objects.PROPERTY_IS_CONST;}return null}throw"object.unbind::"+d.objects.INCORRECT_ARGUMENTS;},kill:function(k,g){var f=l.objects.STORAGE_PROPERTY,m;if("object"===typeof k&&"string"===typeof g){if(k[f]){m=k[g];f=k[f];try{return f.kill(g)?(delete k[g],k[g]=m,!0):!1}catch(b){throw"object.kill::"+d.objects.PROPERTY_IS_CONST;}}return null}throw"object.kill::"+d.objects.INCORRECT_ARGUMENTS;}},h={storage:{create:function(d){var g=function(d){this.node=d;this.binds={};this._destroy=null};g.prototype={init:function(){this._destroy=
p.attach(d,this.handle,this,{attributes:!0,childList:!1,subtree:!1,characterData:!0,attributeOldValue:!1,characterDataOldValue:!1})},handle:function(d,g){var b=this,c=null;this.binds[d]&&(c=this.node.getAttribute(d),c!==this.binds[d].current&&(this.binds[d].previous=this.binds[d].current,this.binds[d].current=c,_object(this.binds[d].handles).forEach(function(c,k){k.call(b.node,d,b.binds[d].current,b.binds[d].previous,g,c)})))},make:function(d){this.binds[d]||(this.binds[d]={handles:{},previous:null,
current:this.node.getAttribute(d)})},add:function(d,g){var b=flex.unique();g[l.attrs.HANDLE_ID_PROPERTY]=b;this.binds[d].handles[b]=g;return b},remove:function(d,g){var b=null;this.binds[d]&&this.binds[d].handles[g]&&(delete this.binds[d].handles[g],0===Object.keys(this.binds[d].handles).length&&(b=delete this.binds[d],this.destroy()));return b},kill:function(d){var g=null;this.binds[d]&&(g=delete this.binds[d],this.destroy());return g},isAttrReady:function(d){return void 0!==this.binds[d]?!0:!1},
destroy:function(){return 0===Object.keys(this.binds).length?(this._destroy(),delete this.node[l.attrs.STORAGE_PROPERTY]):!1}};return new g(d)}},bind:function(k,g,f){var m=l.attrs.STORAGE_PROPERTY;if(null!==p.attach){if(void 0!==k&&"string"===typeof g&&"function"===typeof f&&k.nodeName)return k[m]||(k[m]=h.storage.create(k),k[m].init()),m=k[m],m.isAttrReady(g)||m.make(g),m.add(g,f);throw"attrs.bind::"+d.objects.INCORRECT_ARGUMENTS;}},unbind:function(k,g,f){var m=l.attrs.STORAGE_PROPERTY;if("object"===
typeof k&&"string"===typeof g&&"string"===typeof f)return k[m]&&(m=k[m],m.isAttrReady(g))?m.remove(g,f):null;throw"attrs.unbind::"+d.objects.INCORRECT_ARGUMENTS;},kill:function(k,g){var f=l.attrs.STORAGE_PROPERTY;if("object"===typeof k&&"string"===typeof g)return k[f]&&(f=k[f],f.isAttrReady(g))?f.kill(g):null;throw"attrs.unbind::"+d.objects.INCORRECT_ARGUMENTS;}},q={storage:{create:function(d){var g=function(d){this.node=d;this.binds={};this._destroy=null};g.prototype={init:function(){this._destroy=
p.attach(d,this.handle,this,{attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeOldValue:!1,characterDataOldValue:!1})},prop:function(d){var g=null,b=this.node;d.split(".").forEach(function(c,e,d){void 0!==b[c]&&e<d.length-1?b=b[c]:void 0!==b[c]&&e===d.length-1&&(g={parent:b,name:c})});return g},handle:function(d,g){var b=this;_object(this.binds).forEach(function(c,e){var d=b.binds[c].parent[c];d!==b.binds[c].current&&(b.binds[c].previous=b.binds[c].current,b.binds[c].current=d,_object(b.binds[c].handles).forEach(function(e,
a){a.call(b.binds[c].parent,c,b.binds[c].current,b.binds[c].previous,g,e)}))})},make:function(d){d=this.prop(d);this.binds[d.name]||(this.binds[d.name]={handles:{},previous:null,current:d.parent[d.name],parent:d.parent})},add:function(d,g){var b=flex.unique();d=this.prop(d);g[l.props.HANDLE_ID_PROPERTY]=b;this.binds[d.name].handles[b]=g;return b},remove:function(d,g){var b=null;d=this.prop(d);this.binds[d.name]&&this.binds[d.name].handles[g]&&(delete this.binds[d.name].handles[g],0===Object.keys(this.binds[d.name].handles).length&&
(b=delete this.binds[d.name],this.destroy()));return b},kill:function(d){var g=null;d=this.prop(d);this.binds[d.name]&&(g=delete this.binds[d.name],this.destroy());return g},isPropReady:function(d){d=this.prop(d);return void 0!==this.binds[d.name]?!0:!1},destroy:function(){return 0===Object.keys(this.binds).length?(this._destroy(),delete this.node[l.props.STORAGE_PROPERTY]):!1}};return new g(d)}},bind:function(k,g,f){function m(b,e){var d=!1;e.split(".").forEach(function(e,a,f){void 0!==b[e]&&a<f.length-
1?b=b[e]:void 0!==b[e]&&a===f.length-1&&(d=!0)});return d}var b=l.props.STORAGE_PROPERTY;if(null!==p.attach){if(void 0!==k&&"string"===typeof g&&"function"===typeof f&&void 0!==k.nodeName&&m(k,g))return k[b]||(k[b]=q.storage.create(k),k[b].init()),b=k[b],b.isPropReady(g)||b.make(g),b.add(g,f);throw"props.bind::"+d.objects.INCORRECT_ARGUMENTS;}},unbind:function(k,g,f){var m=l.props.STORAGE_PROPERTY;if("object"===typeof k&&"string"===typeof g&&"string"===typeof f)return k[m]&&(m=k[m],m.isPropReady(g))?
m.remove(g,f):null;throw"props.unbind::"+d.objects.INCORRECT_ARGUMENTS;},kill:function(k,g){var f=l.props.STORAGE_PROPERTY;if("object"===typeof k&&"string"===typeof g)return k[f]&&(f=k[f],f.isPropReady(g))?f.kill(g):null;throw"props.unbind::"+d.objects.INCORRECT_ARGUMENTS;}},p={init:function(){p.attach=p.attach()},mutationObserver:function(d,g,f,k){var b=null,b=new (window.MutationObserver||window.WebKitMutationObserver)(function(b){b.forEach(function(b){g.call(f,b.attributeName,b)})});b.observe(d,
k);return function(){b.disconnect()}},DOMAttrModified:function(d,g,f){flex.events.DOM.add(d,"DOMAttrModified",function(d){g.call(f,event.attrName,d)});return function(){}},onPropertyChange:function(d,g,f){flex.events.DOM.add(d,"propertychange",function(d){g.call(f,event.attributeName,d)});return function(){}},attach:function(){return window.MutationObserver||window.WebKitMutationObserver?p.mutationObserver:function(){var d=document.createElement("DIV"),g=!1;flex.events.DOM.add(d,"DOMAttrModified",
function(){g=!0});d.setAttribute("id","test");return g}()?p.DOMAttrModified:"onpropertychange"in document.body?p.onPropertyChange:null}},n={init:function(){flex.callers.define.object("binding.bind",function(d,g){return r.bind(this.target,d,g)});flex.callers.define.object("binding.unbind",function(d,g){return r.unbind(this.target,d,g)});flex.callers.define.object("binding.kill",function(d){return r.kill(this.target,d)});flex.callers.define.node("bindingAttrs.bind",function(d,g){return h.bind(this.target,
d,g)});flex.callers.define.node("bindingAttrs.unbind",function(d,g){return h.unbind(this.target,d,g)});flex.callers.define.node("bindingAttrs.kill",function(d){return h.kill(this.target,d)});flex.callers.define.nodes("bindingAttrs.bind",function(d,g){var f=[];SelectorClass();Array.prototype.forEach.call(this.target,function(k){f.push(h.bind(k,d,g))});return f});flex.callers.define.nodes("bindingAttrs.unbind",function(d,g){var f=[];SelectorClass();Array.prototype.forEach.call(this.target,function(k){f.push(h.unbind(k,
d,g))});return f});flex.callers.define.nodes("bindingAttrs.kill",function(d){var g=[];SelectorClass();Array.prototype.forEach.call(this.target,function(f){g.push(h.kill(f,d))});return g});flex.callers.define.node("bindingProps.bind",function(d,g){return q.bind(this.target,d,g)});flex.callers.define.node("bindingProps.unbind",function(d,g){return q.unbind(this.target,d,g)});flex.callers.define.node("bindingProps.kill",function(d){return q.kill(this.target,d)});flex.callers.define.nodes("bindingProps.bind",
function(d,g){var f=[];SelectorClass();Array.prototype.forEach.call(this.target,function(k){f.push(q.bind(k,d,g))});return f});flex.callers.define.nodes("bindingProps.unbind",function(d,g){var f=[];SelectorClass();Array.prototype.forEach.call(this.target,function(k){f.push(q.unbind(k,d,g))});return f});flex.callers.define.nodes("bindingProps.kill",function(d){var g=[];SelectorClass();Array.prototype.forEach.call(this.target,function(f){g.push(q.kill(f,d))});return g})}},k={check:function(){if(!Object.defineProperty)throw d.support.DEFINE_PROPERTY;
if(null===p.attach)throw d.support.MUTATION_SCANNING;}};p.init();n.init();k.check();return{}};R.prototype=function(){function r(d){d=d||null;d=_nodes("*["+n.CONTAINER+(null!==d?'="'+d+'"':"")+"]:not(["+n.INITED+"])").target;null!==d&&Array.prototype.forEach.call(d,function(d){var h=d.getAttribute(n.CONTAINER);""!==h&&null!==h||d.setAttribute(n.CONTAINER,flex.unique());d.setAttribute(n.INITED,!0)})}var h=null,q=null,p=null,n=null,l=null,n={CONTAINER:"data-flex-ui-window-focus",INITED:"data-flex-window-focus-inited",
GLOBAL_GROUP:"flex-window-focus-global-group",GLOBAL_EVENT_FLAG:"flex-window-focus-global-event",GLOBAL_CURRENT:"flex-window-focus-global-current",GLOBAL_EVENT_ID:"flex-window-focus-global-event-id",FOCUSED_ZINDEX:1E3},q={attach:function(){!0!==flex.overhead.globaly.get(n.GLOBAL_GROUP,n.GLOBAL_EVENT_FLAG)&&(flex.overhead.globaly.set(n.GLOBAL_GROUP,n.GLOBAL_EVENT_FLAG,!0),_node(window).events().add("click",function(d){p.onClick(d);return!0},n.GLOBAL_EVENT_ID))}},p={getContainer:function(d){var k;if("function"===
typeof d.getAttribute&&(k=d.getAttribute(n.CONTAINER),""!==k&&null!==k))return{container:d,id:k};d=_node(d).html().find().parentByAttr({name:n.CONTAINER,value:null});return null!==d?{container:d,id:d.getAttribute(n.CONTAINER)}:null},history:{is:function(d){return flex.overhead.globaly.get(n.GLOBAL_GROUP,n.GLOBAL_CURRENT)!==d?!1:!0},set:function(d){flex.overhead.globaly.set(n.GLOBAL_GROUP,n.GLOBAL_CURRENT,d)},get:function(){return flex.overhead.globaly.get(n.GLOBAL_GROUP,n.GLOBAL_CURRENT)},del:function(){flex.overhead.globaly.del(n.GLOBAL_GROUP,
n.GLOBAL_CURRENT)}},onClick:function(d){d=p.getContainer(d.flex.target);var k=p.history.get();null!==k&&p.focus.unset(k);null!==d&&!1===p.history.is(d.id)&&p.focus.set(d.id)},focus:{zIndex:function(d,k){var h=_node("*["+n.CONTAINER+'="'+d+'"]').target;null!==h&&(h.style.zIndex=k)},set:function(d){p.focus.zIndex(d,n.FOCUSED_ZINDEX);p.history.set(d)},unset:function(d){p.focus.zIndex(d,"");p.history.del(d)}}},l={attach:function(){flex.events.core.listen(flex.registry.events.ui.patterns.GROUP,flex.registry.events.ui.patterns.MOUNTED,
function(d){d=void 0!==d.length?0<d.length?d[0].parentNode:null:null;null!==d&&null!==_node("*["+n.CONTAINER+"]:not(["+n.INITED+"])",!1,d).target&&r()})}},h={init:r};q.attach();l.attach();void 0!==flex.libraries&&void 0!==flex.libraries.events&&void 0!==flex.libraries.html&&(flex.libraries.events.create(),flex.libraries.html.create());return{init:h.init}};U.prototype=function(){function r(h){h=h||null;h=_nodes("*["+p.CONTAINER+(null!==h?'="'+h+'"':"")+"]:not(["+p.INITED+"])").target;null!==h&&Array.prototype.forEach.call(h,
function(h){var d=h.getAttribute(p.CONTAINER),k;""!==d&&null!==d&&(k=_nodes("*["+p.HOOK+'="'+d+'"]').target,null!==k&&q.attach(h,k,d));h.setAttribute(p.INITED,!0);h.setAttribute(p.STATE,"false");flex.overhead.objecty.set(h,p.STORAGE,{maximazed:!1},!0)})}var h=null,q=h=null,p=null,p={CONTAINER:"data-flex-ui-window-maximize",HOOK:"data-flex-window-maximize-hook",INITED:"data-flex-window-maximize-inited",STATE:"data-flex-window-is-maximized",STORAGE:"flex-window-maximize-storage"},q={attach:function(h,
l,d){Array.prototype.forEach.call(l,function(k,l){_node(k).events().add("click",function(g){q.onClick(g,h,d);return!0},d+"_"+l)})},onClick:function(h,l,d){h=flex.overhead.objecty.get(l,p.STORAGE,!1);null!==h&&(!1===h.maximazed?q.actions.maximaze(l,h,d):q.actions.restore(l,h,d),setTimeout(function(){flex.events.core.fire(flex.registry.events.ui.window.maximize.GROUP,flex.registry.events.ui.window.maximize.CHANGE,{container:l,id:d})},10))},actions:{maximaze:function(h,l,d){l.maximazed=!0;l.size={position:""!==
h.style.position?h.style.position:!1,width:""!==h.style.width?h.style.width:!1,height:""!==h.style.height?h.style.height:!1,left:""!==h.style.left?h.style.left:!1,top:""!==h.style.top?h.style.top:!1};h.style.position="fixed";h.style.width="100%";h.style.height="100%";h.style.left="0px";h.style.top="0px";h.setAttribute(p.STATE,"true");setTimeout(function(){flex.events.core.fire(flex.registry.events.ui.window.maximize.GROUP,flex.registry.events.ui.window.maximize.MAXIMIZED,{container:h,id:d})},10)},
restore:function(h,l,d){l.maximazed=!1;h.style.position=!1!==l.size.position?l.size.position:"";h.style.width=!1!==l.size.width?l.size.width:"";h.style.height=!1!==l.size.height?l.size.height:"";h.style.left=!1!==l.size.left?l.size.left:"";h.style.top=!1!==l.size.top?l.size.top:"";h.setAttribute(p.STATE,"false");setTimeout(function(){flex.events.core.fire(flex.registry.events.ui.window.maximize.GROUP,flex.registry.events.ui.window.maximize.RESTORED,{container:h,id:d})},10)},byID:{findByID:function(h){h=
h||null;var l=null,d=[];return null!==h&&(l=_nodes("*["+p.CONTAINER+(null!==h?'="'+h+'"':"")+"]").target,null!==l&&0<l.length)?(Array.prototype.forEach.call(l,function(k){var h=flex.overhead.objecty.get(k,p.STORAGE,!1);null!==h&&d.push({container:k,storage:h})}),0<d.length?d:null):null},maximaze:function(h){var l=q.actions.byID.findByID(h);null!==l&&l.forEach(function(d){q.actions.maximaze(d.container,d.storage,h)})},restore:function(h){var l=q.actions.byID.findByID(h);null!==l&&l.forEach(function(d){q.actions.restore(d.container,
d.storage,h)})}}}},h={attach:function(){flex.events.core.listen(flex.registry.events.ui.patterns.GROUP,flex.registry.events.ui.patterns.MOUNTED,function(h){h=void 0!==h.length?0<h.length?h[0].parentNode:null:null;null!==h&&null!==_node("*["+p.CONTAINER+"]:not(["+p.INITED+"])",!1,h).target&&r()})}};void 0!==flex.libraries&&void 0!==flex.libraries.events&&flex.libraries.events.create();h.attach();h={init:r,maximaze:q.actions.byID.maximaze,restore:q.actions.byID.restore};return{init:h.init,maximaze:h.maximaze,
restore:h.restore}};S.prototype=function(){function r(d){d=d||null;d=_nodes("*["+l.CONTAINER+(null!==d?'="'+d+'"':"")+"]:not(["+l.INITED+"])").target;null!==d&&Array.prototype.forEach.call(d,function(d){var h=d.getAttribute(l.CONTAINER),g;""!==h&&null!==h&&(g=_nodes("*["+l.HOOK+'="'+h+'"]').target,null!==g&&(q.attach(d,g,h),p.attach(d,h)));d.setAttribute(l.INITED,!0)})}var h=null,q=null,p=null,n=null,l=null,l={CONTAINER:"data-flex-ui-window-move-container",HOOK:"data-flex-ui-window-move-hook",INITED:"data-flex-window-move-inited",
GLOBAL_GROUP:"flex-window-move",GLOBAL_EVENT_FLAG:"flex-window-move-global-event",GLOBAL_CURRENT:"flex-window-move-global-current",GLOBAL_EVENT_ID:"flex-window-move-global-event-id",STATE_STORAGE:"flex-window-move-instance-state"},q={attach:function(d,k,h){Array.prototype.forEach.call(k,function(g){_node(g).events().add("mousedown",function(f){q.start(f,d,g,h)},h)})},start:function(d,k,h,g){var f,m,b;return!1===flex.overhead.objecty.get(k,l.STATE_STORAGE,!1,!1)?(f=_node(k).html().position().byPage(),
m=_node(k.parentNode).html().scroll().position(),b=k.currentStyle&&k.currentStyle.position?k.currentStyle.position:window.getComputedStyle?window.getComputedStyle(k).position:null,b="fixed"!==b?!1:!0,flex.overhead.globaly.set(l.GLOBAL_GROUP,l.GLOBAL_CURRENT,{clientX:d.flex.clientX,clientY:d.flex.clientY,offsetX:d.flex.offsetX,offsetY:d.flex.offsetY,pageX:d.flex.pageX,pageY:d.flex.pageY,hook:h,container:k,id:g,oldX:d.flex.pageX,oldY:d.flex.pageY,posX:f.left+(!1===b?m.left():0),posY:f.top+(!1===b?m.top():
0)}),d.flex.stop()):!0},move:function(d){var k=flex.overhead.globaly.get(l.GLOBAL_GROUP,l.GLOBAL_CURRENT),h;null!==k&&(h=k.container,k.posX-=k.oldX-d.flex.pageX,k.posY-=k.oldY-d.flex.pageY,h.style.left=k.posX+"px",h.style.top=k.posY+"px",k.oldX=d.flex.pageX,k.oldY=d.flex.pageY);return d.flex.stop()},stop:function(d){flex.overhead.globaly.del(l.GLOBAL_GROUP,l.GLOBAL_CURRENT)},global:{attach:function(){!0!==flex.overhead.globaly.get(l.GLOBAL_GROUP,l.GLOBAL_EVENT_FLAG)&&(flex.overhead.globaly.set(l.GLOBAL_GROUP,
l.GLOBAL_EVENT_FLAG,!0),_node(window).events().add("mousemove",function(d){q.move(d)},l.GLOBAL_EVENT_ID),_node(window).events().add("mouseup",function(d){q.stop(d)},l.GLOBAL_EVENT_ID))}}},p={attach:function(d,k){flex.events.core.listen(flex.registry.events.ui.window.maximize.GROUP,flex.registry.events.ui.window.maximize.MAXIMIZED,function(k){return p.onRefreshByParent(k.container,d,flex.registry.events.ui.window.maximize.MAXIMIZED)},l.STATE_STORAGE+k,!1);flex.events.core.listen(flex.registry.events.ui.window.maximize.GROUP,
flex.registry.events.ui.window.maximize.RESTORED,function(k){return p.onRefreshByParent(k.container,d,flex.registry.events.ui.window.maximize.RESTORED)},l.STATE_STORAGE+k,!1)},onRefreshByParent:function(d,k,h){if(d===k)switch(h){case flex.registry.events.ui.window.maximize.MAXIMIZED:flex.overhead.objecty.set(k,l.STATE_STORAGE,!0,!0);break;case flex.registry.events.ui.window.maximize.RESTORED:flex.overhead.objecty.set(k,l.STATE_STORAGE,!1,!0)}return!1}},n={attach:function(){flex.events.core.listen(flex.registry.events.ui.patterns.GROUP,
flex.registry.events.ui.patterns.MOUNTED,function(d){d=void 0!==d.length?0<d.length?d[0].parentNode:null:null;null!==d&&null!==_node("*["+l.CONTAINER+"]:not(["+l.INITED+"])",!1,d).target&&r()})}},h={init:r};q.global.attach();n.attach();void 0!==flex.libraries&&void 0!==flex.libraries.events&&void 0!==flex.libraries.html&&(flex.libraries.events.create(),flex.libraries.html.create());return{init:h.init}};T.prototype=function(){function r(d){d=d||null;d=_nodes("*["+l.CONTAINER+(null!==d?'="'+d+'"':"")+
"]:not(["+l.INITED+"])").target;null!==d&&Array.prototype.forEach.call(d,function(d){var h=d.getAttribute(l.CONTAINER);null!==h&&""!==h&&Array.prototype.forEach.call(l.HOOKS,function(g){var f=q.hooks.get(h,d,g);q.attach(d,f,g,h);n.attach(d,h)});d.setAttribute(l.INITED,!0)})}var h=null,q=null,p=null,n=null,l=null,l={CONTAINER:"data-flex-ui-window-resize-container",INITED:"data-flex-window-resize-inited",HOOK:"data-flex-window-resize-hook",HOOKS:["top","left","right","bottom","corner"],HOOKS_STYLE:{top:{node:"div",
style:{position:"absolute",zIndex:1,height:"6px",width:"100%",top:"0px",left:"0px",cursor:"n-resize"}},bottom:{node:"div",style:{position:"absolute",zIndex:1,height:"6px",width:"100%",bottom:"0px",left:"0px",cursor:"n-resize"}},left:{node:"div",style:{position:"absolute",zIndex:1,height:"100%",width:"6px",top:"0px",left:"0px",cursor:"e-resize"}},right:{node:"div",style:{position:"absolute",zIndex:1,height:"100%",width:"6px",top:"0px",right:"0px",cursor:"e-resize"}},corner:{node:"div",style:{position:"absolute",
zIndex:1,height:"10px",width:"10px",bottom:"0px",right:"0px",cursor:"nw-resize"}}},POSITION_PARENT:"data-flex-ui-window-resize-position-parent",GLOBAL_GROUP:"flex-window-resize",GLOBAL_EVENT_FLAG:"flex-window-resize-global-event",GLOBAL_CURRENT:"flex-window-resize-global-current",GLOBAL_EVENT_ID:"flex-window-resize-global-event-id",STATE_STORAGE:"flex-window-resize-instance-state"},q={position:{getParent:function(d){return _node("*["+l.POSITION_PARENT+'="'+d+'"]').target}},hooks:{make:function(d,
k){var h=document.createElement(l.HOOKS_STYLE[k].node),g;for(g in l.HOOKS_STYLE[k].style)h.style[g]=l.HOOKS_STYLE[k].style[g];d.appendChild(h);return h},get:function(d,k,h){d=_nodes("*["+l.CONTAINER+'="'+d+'"]['+l.HOOK+'="'+h+'"]:not(['+l.INITED+"])").target;0===d.length&&(d=[],d.push(q.hooks.make(k,h)));return d}},attach:function(d,k,h,g){var f=q.position.getParent(g);Array.prototype.forEach.call(k,function(k){_node(k).events().add("mousedown",function(b){q.start(b,d,k,h,f,g)},g)})},start:function(d,
k,h,g,f,m){var b,c,e,A;return!1===flex.overhead.objecty.get(k,l.STATE_STORAGE,!1,!1)?(b=_node(k).html().size().get(),c=_node(null!==f?f:k).html().position().byPage(),e=_node(k.parentNode).html().scroll().position(),A=k.currentStyle&&k.currentStyle.position?k.currentStyle.position:window.getComputedStyle?window.getComputedStyle(k).position:null,A="fixed"!==A?!1:!0,flex.overhead.globaly.set(l.GLOBAL_GROUP,l.GLOBAL_CURRENT,{clientX:d.flex.clientX,clientY:d.flex.clientY,offsetX:d.flex.offsetX,offsetY:d.flex.offsetY,
pageX:d.flex.pageX,pageY:d.flex.pageY,hook:h,direction:g,container:k,position_parent:f,id:m,oldX:d.flex.pageX,oldY:d.flex.pageY,posX:c.left+(!1===A?e.left():0),posY:c.top+(!1===A?e.top():0),width:b.width,height:b.height}),d.flex.stop()):!0},move:function(d){var k=flex.overhead.globaly.get(l.GLOBAL_GROUP,l.GLOBAL_CURRENT),h=null,g=null;if(null!==k){h=k.container;g=null!==k.position_parent?k.position_parent:h;switch(k.direction){case "top":k.posY-=k.oldY-d.flex.pageY;k.height+=k.oldY-d.flex.pageY;h.style.height=
k.height+"px";g.style.top=k.posY+"px";break;case "left":k.posX-=k.oldX-d.flex.pageX;k.width+=k.oldX-d.flex.pageX;h.style.width=k.width+"px";g.style.left=k.posX+"px";break;case "bottom":k.height-=k.oldY-d.flex.pageY;h.style.height=k.height+"px";break;case "right":k.width-=k.oldX-d.flex.pageX;h.style.width=k.width+"px";break;case "corner":k.height-=k.oldY-d.flex.pageY,h.style.height=k.height+"px",k.width-=k.oldX-d.flex.pageX,h.style.width=k.width+"px"}k.oldX=d.flex.pageX;k.oldY=d.flex.pageY;setTimeout(function(){flex.events.core.fire(flex.registry.events.ui.window.resize.GROUP,
flex.registry.events.ui.window.resize.REFRESH,{container:k.container,id:k.id})},10)}return d.flex.stop()},stop:function(d){d=flex.overhead.globaly.get(l.GLOBAL_GROUP,l.GLOBAL_CURRENT);null!==d&&flex.events.core.fire(flex.registry.events.ui.window.resize.GROUP,flex.registry.events.ui.window.resize.FINISH,{container:d.container,id:d.id});flex.overhead.globaly.del(l.GLOBAL_GROUP,l.GLOBAL_CURRENT)},global:{attach:function(){!0!==flex.overhead.globaly.get(l.GLOBAL_GROUP,l.GLOBAL_EVENT_FLAG)&&(flex.overhead.globaly.set(l.GLOBAL_GROUP,
l.GLOBAL_EVENT_FLAG,!0),_node(window).events().add("mousemove",function(d){q.move(d)},l.GLOBAL_EVENT_ID),_node(window).events().add("mouseup",function(d){q.stop(d)},l.GLOBAL_EVENT_ID))}}},n={attach:function(d,h){flex.events.core.listen(flex.registry.events.ui.window.maximize.GROUP,flex.registry.events.ui.window.maximize.MAXIMIZED,function(h){return n.onRefreshByParent(h.container,d,flex.registry.events.ui.window.maximize.MAXIMIZED)},l.STATE_STORAGE+h,!1);flex.events.core.listen(flex.registry.events.ui.window.maximize.GROUP,
flex.registry.events.ui.window.maximize.RESTORED,function(h){return n.onRefreshByParent(h.container,d,flex.registry.events.ui.window.maximize.RESTORED)},l.STATE_STORAGE+h,!1)},onRefreshByParent:function(d,h,n){if(d===h)switch(n){case flex.registry.events.ui.window.maximize.MAXIMIZED:flex.overhead.objecty.set(h,l.STATE_STORAGE,!0,!0);break;case flex.registry.events.ui.window.maximize.RESTORED:flex.overhead.objecty.set(h,l.STATE_STORAGE,!1,!0)}return!1}},p={attach:function(){flex.events.core.listen(flex.registry.events.ui.patterns.GROUP,
flex.registry.events.ui.patterns.MOUNTED,function(d){d=void 0!==d.length?0<d.length?d[0].parentNode:null:null;null!==d&&null!==_node("*["+l.CONTAINER+"]:not(["+l.INITED+"])",!1,d).target&&r()})}},h={init:r};q.global.attach();p.attach();void 0!==flex.libraries&&void 0!==flex.libraries.events&&void 0!==flex.libraries.html&&(flex.libraries.events.create(),flex.libraries.html.create());return{init:h.init}};Q.prototype=function(){var r=null,h=null,q=null,p=null,n=null,l=q=null,d=null,k=null,u=null,g=null,
f=null,f={storage:{GROUP:"flex.html",SCROLL:"scroll",CUSTOM_STYLES:"custom.styles"},classes:{scroll:{MINIMAL_WIDTH:15,MINIMAL_HEIGHT:15}}},r={bySelector:function(){var d=function(){};d.prototype=function(){var b=null,c=null,b={data:{},get:function(c){var d=b.data;return void 0!==d[c]?d[c]:null},add:function(c,d){return b.data[c]=d},remove:function(c){var d=b.data;d[c]=null;delete d[c]},reset:function(){b.data={}}},c={first:function(b,c){return"string"===typeof b?(c||document).querySelector(b):null},
all:function(b,c){return"string"===typeof b?(c||document).querySelectorAll(b):null},cachedFirst:function(c,d){var f;return"string"===typeof c?(f=b.get(c),null===f&&(f=b.add((d||document).querySelector(c))),f):null},cachedAll:function(c,d){var f;return"string"===typeof c?(f=b.get(c),null===f&&(f=b.add((d||document).querySelectorAll(c))),f):null},cacheReset:b.reset,cacheRemove:b.remove};return{first:c.first,all:c.all,cachedFirst:c.cachedFirst,cachedAll:c.cachedAll,cacheReset:c.cacheReset,cacheRemove:c.cacheRemove}}();
return new d},fromParent:function(){var d=function(){this.selector=r.bySelector()};d.prototype={selector:null,select:function(b,c,e){var d=flex.unique(),f=null,a="data-"+d;"string"===typeof b.nodeName&&(b.setAttribute(a,d),f=this.selector[!1===e?"all":"first"](b.nodeName+"["+a+'="'+d+'"] '+c),b.removeAttribute(a));return f},first:function(b,c){return this.select(b,c,!0)},all:function(b,c){return this.select(b,c,!1)}};return Object.freeze(new d)}},h=function(){var d=function(){};d.prototype={childByAttr:function(b,
c,d){var f=null;c=c.toLowerCase();var g=this;void 0!==b.childNodes&&"number"===typeof b.childNodes.length&&Array.prototype.forEach.call(b.childNodes,function(a){if("string"===typeof a.nodeName&&(a.nodeName.toLowerCase()===c||"*"===c)&&"function"===typeof a.getAttribute)if(null!==d.value){if(a.getAttribute(d.name)===d.value)return a}else if(!0===a.hasAttribute(d.name))return a;f=g.childByAttr(a,c,d);if(null!==f)return f});return null},childByType:function(b,c){var d=null;c=c.toLowerCase();var f=this;
void 0!==b.childNodes&&"number"===typeof b.childNodes.length&&(Array.prototype.forEach.call(b.childNodes,function(b){if("string"===typeof b.nodeName&&b.nodeName.toLowerCase()===c)return b}),Array.prototype.forEach.call(b.childNodes,function(b){d=f.childByType(b,c);if(null!==d)return d}));return null},parentByAttr:function(b,c){return void 0!==b&&void 0!==c&&void 0!==b.parentNode&&null!==b.parentNode&&"function"===typeof b.parentNode.getAttribute?null!==c.value?b.parentNode.getAttribute(c.name)===
c.value?b.parentNode:this.parentByAttr(b.parentNode,c):null!==b.parentNode.getAttribute(c.name)?b.parentNode:this.parentByAttr(b.parentNode,c):null}};return new d},p=function(){var d=function(){};d.prototype={nodeByClientRectSize:function(b){var c=0,d=0;void 0!==b.getBoundingClientRect&&(b=b.getBoundingClientRect(),c=b.bottom-b.top,d=b.right-b.left);return{height:c,width:d}},nodeByOffset:function(b){var c=0,d=0;void 0!==b.offsetHeight&&(c=b.offsetHeight,d=b.offsetWidth);return{height:c,width:d}},
nodeWithMargin:function(b){var c,d=this.node(b),f,g,a,h,k,m,l,n;"string"===typeof b&&(c=r.bySelector(),b=c.first(b));null!==b&&(f=parseInt(document.defaultView.getComputedStyle(b).marginTop,10),g=parseInt(document.defaultView.getComputedStyle(b).marginBottom,10),a=parseInt(document.defaultView.getComputedStyle(b).marginRight,10),h=parseInt(document.defaultView.getComputedStyle(b).marginLeft,10),k=parseInt(document.defaultView.getComputedStyle(b).borderTopWidth,10),m=parseInt(document.defaultView.getComputedStyle(b).borderBottomWidth,
10),l=parseInt(document.defaultView.getComputedStyle(b).borderRightWidth,10),n=parseInt(document.defaultView.getComputedStyle(b).borderLeftWidth,10),null===f&&(f=0),null===g&&(g=0),null===a&&(a=0),null===h&&(h=0),null===k&&(k=0),null===m&&(m=0),null===l&&(l=0),null===n&&(n=0));return{height:d.height+f+g+k+m,width:d.width+a+h+l+n}},node:function(b){var c,d={height:0,width:0};"string"===typeof b&&(c=r.bySelector(),b=c.first(b));null!==b&&(d=this.nodeByClientRectSize(b),0===d.height&&0===d.width&&(d=
this.nodeByOffset(b)));return d},window:function(){return self.innerHeight?{height:self.innerHeight,width:self.innerWidth}:document.documentElement&&document.documentElement.clientHeight?{height:document.documentElement.clientHeight,width:document.documentElement.clientWidth}:document.body?{height:document.body.clientHeight,width:document.body.clientWidth}:null},image:function(b){if(void 0!==b){if("number"===typeof b.naturalWidth)return{width:b.naturalWidth,height:b.naturalHeight};var c=new Image;
c.src=b.src;return{width:c.width,height:c.height}}return null}};return new d},n=function(){var d=function(){};d.prototype={window:function(){var b=document.body,c=document.documentElement;return{top:function(){return Math.max(b.scrollTop||0,c.scrollTop||0,b.pageYOffset||0,c.pageYOffset||0,window.pageYOffset||0)},left:function(){return Math.max(b.scrollLeft||0,c.scrollLeft||0,b.pageXOffset||0,c.pageXOffset||0,window.pageXOffset||0)},height:function(){return Math.max(b.scrollHeight||0,b.offsetHeight||
0,c.clientHeight||0,c.scrollHeight||0,c.offsetHeight||0)},width:function(){return Math.max(b.scrollWidth||0,b.offsetWidth||0,c.clientWidth||0,c.scrollWidth||0,c.offsetWidth||0)}}},get:function(b){return b!==document.body&&b!==document.documentElement?{top:function(){return Math.max(b.scrollTop||0,b.pageYOffset||0)},left:function(){return Math.max(b.scrollLeft||0,b.pageXOffset||0)},height:function(){return Math.max(b.scrollHeight||0,b.clientHeight||0,b.offsetHeight||0)},width:function(){return Math.max(b.scrollWidth||
0,b.clientWidth||0,b.offsetWidth||0)}}:this.window()},scrollBarSize:function(){var b=flex.overhead.globaly.get(f.storage.GROUP,f.storage.SCROLL,{});if(!b.value){var c=document.createElement("DIV"),d;l().apply(c,{position:"absolute",top:"-1000px",left:"-1000px",width:"300px",height:"300px",overflow:"scroll",opacity:"0.01"});document.body.appendChild(c);d={width:c.offsetWidth-c.clientWidth,height:c.offsetHeight-c.clientHeight};d.probablyMobile=0===d.width?!0:!1;d.width=0===d.width?f.classes.scroll.MINIMAL_WIDTH:
d.width;d.height=0===d.height?f.classes.scroll.MINIMAL_HEIGHT:d.height;document.body.removeChild(c);b.value=d}return b.value}};return new d},q=function(){var d=function(){};d.prototype={build:function(b){function c(a,b){var c=b[a.settingup.parent]||null;"object"===typeof a.settingup&&null!==b&&null!==c&&Array.prototype.forEach.call(a.settingup.childs,function(d){b[d]&&("object"===typeof a[d].settingup?c.appendChild(b[d][a[d].settingup.parent]):c.appendChild(b[d]))})}function d(a){var b=document.createElement(a.node);
null!==a.html&&(b.innerHTML=a.html);Array.prototype.forEach.call(a.attrs,function(a){!0===flex.oop.objects.validate(a,[{name:"name",type:"string"},{name:"value",type:"string"}])&&b.setAttribute(a.name,a.value)});return b}function f(a){return flex.oop.objects.validate(a,[{name:"node",type:"string"},{name:"attrs",type:"array",value:[]},{name:"html",type:"string",value:null}])}var g={};try{if(!0===f(b))return d(b);for(var a in b)if(!0===f(b[a]))g[a]=d(b[a]);else if("object"===typeof b[a]&&"settingup"!==
a&&(g[a]=this.build(b[a]),null===g[a]))return null;c(b,g)}catch(h){return null}return g}};return new d},l=function(){var d=function(){};d.prototype={apply:function(b,c){if(b&&"object"===typeof c&&b.style){for(var d in c)b.style[d]=c[d];return!0}return!1},redraw:function(b){return b&&void 0!==b.style?(b.style.display="none",b.style.display="",!0):!1},getRuleFromSheet:function(b,c){var d=[];try{c=c.replace(/['"]/gi,"|"),Array.prototype.forEach.call(b.cssRules||b.rules,function(b,f){b.selectorText?b.selectorText.replace(/['"]/gi,
"|")===c&&d.push({rule:b,style:b.style||null,index:f,cssText:b.cssText||""}):"string"===typeof b.cssText&&0===b.cssText.indexOf(c.toLowerCase())&&d.push({rule:b,style:b.style||null,index:f,cssText:b.cssText||""})})}catch(f){}finally{return 0<d.length?d:null}},getRule:function(b){var c=[],d=this;try{b=b.replace(/['"]/gi,"|"),Array.prototype.forEach.call(document.styleSheets,function(f){f=d.getRuleFromSheet(f,b);null!==f&&(c=c.concat(f))})}catch(f){}finally{return 0<c.length?c:null}},setRule:function(b,
c){var d=flex.overhead.globaly.get(f.storage.GROUP,f.storage.CUSTOM_STYLES);if("string"===typeof c){null===d&&(d=document.createElement("style"),d.type="text/css",document.head.appendChild(d),d=d.styleSheet||d.sheet,flex.overhead.globaly.set(f.storage.GROUP,f.storage.CUSTOM_STYLES,d));if(d.insertRule)return d.insertRule(b+" {"+c+"}",d.cssRules.length),{rule:d.cssRules[d.cssRules.length-1],index:d.cssRules.length-1,sheet:d};if(d.addRule)return d.addRule(b+" {"+c+"}",-1),{rule:d.cssRules[d.cssRules.length-
1],index:d.cssRules.length-1,sheet:d}}return null},updateRule:function(b,c,d){var f=c.selectorText;this.deleteRule(b,c);return this.setRule(f,d)},deleteRule:function(b,c,d){b=b||flex.overhead.globaly.get(f.storage.GROUP,f.storage.CUSTOM_STYLES);a:{var g=b;if(void 0!==c)if("string"===typeof c){if(c=!1===("boolean"===typeof d?d:!0)&&null!==g?this.getRuleFromSheet(g,c):this.getRule(c),null!==c&&1===c.length){c=c[0].index;break a}}else if("number"===typeof c)break a;else if("object"===typeof c&&null!==
g){c=this.getRuleIndex(g,c);break a}c=-1}if(-1!==c&&null!==b){if(b.deleteRule)return b.deleteRule(c),!0;if(b.removeRule)return b.removeRule(c),!0}return null},getRuleIndex:function(b,c){var d=-1;try{Array.prototype.forEach.call(b.cssRules,function(b,f){if(b===c)throw d=f,"found";})}catch(f){if("found"===f)return d}return-1},addClass:function(b,c){void 0!==b.className&&-1===b.className.search(c)&&(b.className+=c)},removeClass:function(b,c){void 0!==b.className&&-1!==b.className.search(c)&&(b.className=
b.className.replace(c,""))}};return new d},d=function(){var f=function(){};f.prototype=function(){var b=null,c=null,b=null;d={old:function(b){for(var c=0,d=0;b;)void 0!==b.offsetTop&&void 0!==b.offsetLeft&&(c+=parseFloat(b.offsetTop),d+=parseFloat(b.offsetLeft)),b=b.offsetParent;return{top:c,left:d}},modern:function(b){var c,d;b=b.getBoundingClientRect();c=document.body;d=document.documentElement;return{top:b.top+(window.pageYOffset||d.scrollTop||c.scrollTop)-(d.clientTop||c.clientTop||0),left:b.left+
(window.pageXOffset||d.scrollLeft||c.scrollLeft)-(d.clientLeft||c.clientLeft||0)}}};b=function(b){var c=null,f=null,a=null,g=null,h=null,k=null;try{a=b.getBoundingClientRect(),c=a.top,f=a.left}catch(m){g=d.old(b),h=window.pageYOffset||objDocumentElement.scrollTop||objBody.scrollTop,k=window.pageXOffset||objDocumentElement.scrollLeft||objBody.scrollLeft,c=g.top-h,f=g.left-k}finally{return{top:c,left:f}}};c=function(b){var c=null;try{c=d.modern(b)}catch(f){c=d.old(b)}finally{return c}};b={byPage:b,
byWindow:c};return{byPage:b.byPage,byWindow:b.byWindow}}();return new f},k=function(){var d=function(){};d.prototype={em:function(b){b=b||document.documentElement;b=b.parentNode?b:document.documentElement;return parseFloat(getComputedStyle(b).fontSize)},rem:function(){this.em(document.documentElement)}};return new d},u={validateNode:function(d){var b;return d&&("string"===typeof d&&(b=r.bySelector(),d=b.first(d)),null!==d&&void 0!==d.parentNode)?d:null},appendChilds:function(d,b){for(var c=b.length-
1;0<=c;--c)d.appendChild(b[0])}},g={init:function(){function f(){null===k&&(k=p())}function b(){null===a&&(a=d())}function c(){null===q&&(q=l())}function e(){null===G&&(G=h())}function g(){null===W&&(W=r.fromParent())}var k=null,a=null,q=null,u=null,G=null,W=null;flex.callers.define.node("html.size.get",function(){f();return k.node(this.target)});flex.callers.define.node("html.size.getWithMargin",function(){f();return k.nodeWithMargin(this.target)});flex.callers.define.node("html.size.getByClientRectSize",
function(){f();return k.nodeByClientRectSize(this.target)});flex.callers.define.node("html.size.getByOffset",function(){f();return k.nodeByOffset(this.target)});flex.callers.define.node("html.position.byPage",function(){b();return a.byPage(this.target)});flex.callers.define.node("html.position.byWindow",function(){b();return a.byWindow(this.target)});flex.callers.define.node("html.styles.apply",function(a){c();return q.apply(this.target,a)});flex.callers.define.node("html.styles.redraw",function(){c();
return q.redraw(this.target)});flex.callers.define.node("html.styles.addClass",function(a){c();return q.addClass(this.target,a)});flex.callers.define.node("html.styles.removeClass",function(a){c();return q.removeClass(this.target,a)});flex.callers.define.node("html.scroll.position",function(){null===u&&(u=n());return u.get(this.target)});flex.callers.define.node("html.find.childByAttr",function(a,b){e();return G.childByAttr(this.target,a,b)});flex.callers.define.node("html.find.childByType",function(a){e();
return G.childByType(this.target,a)});flex.callers.define.node("html.find.parentByAttr",function(a){e();return G.parentByAttr(this.target,a)});flex.callers.define.node("html.find.node",function(a){g();return W.first(this.target,a)});flex.callers.define.node("html.find.nodes",function(a){g();return W.all(this.target,a)});flex.callers.define.nodes("html.size.get",function(){var a=[];f();Array.prototype.forEach.call(this.target,function(b){a.push(k.node(b))});return a});flex.callers.define.nodes("html.size.getWithMargin",
function(){var a=[];f();Array.prototype.forEach.call(this.target,function(b){a.push(k.nodeWithMargin(b))});return a});flex.callers.define.nodes("html.size.getByClientRectSize",function(){var a=[];f();Array.prototype.forEach.call(this.target,function(b){a.push(k.nodeByClientRectSize(b))});return a});flex.callers.define.nodes("html.size.getByOffset",function(){var a=[];f();Array.prototype.forEach.call(this.target,function(b){a.push(k.nodeByOffset(b))});return a});flex.callers.define.nodes("html.position.byPage",
function(){var c=[];b();Array.prototype.forEach.call(this.target,function(b){c.push(a.byPage(b))});return c});flex.callers.define.nodes("html.position.byWindow",function(){var c=[];b();Array.prototype.forEach.call(this.target,function(b){c.push(a.byWindow(b))});return c});flex.callers.define.nodes("html.styles.apply",function(a){var b=[];c();Array.prototype.forEach.call(this.target,function(c){b.push(q.apply(c,a))});return b});flex.callers.define.nodes("html.styles.redraw",function(){var a=[];c();
Array.prototype.forEach.call(this.target,function(b){a.push(q.redraw(b))});return a});flex.callers.define.nodes("html.styles.addClass",function(a){var b=[];c();Array.prototype.forEach.call(this.target,function(c){b.push(q.addClass(c,a))});return b});flex.callers.define.nodes("html.styles.removeClass",function(a){var b=[];c();Array.prototype.forEach.call(this.target,function(c){b.push(q.removeClass(c,a))});return b});flex.callers.define.nodes("html.scroll.position",function(){var a=[];null===u&&(u=
n());Array.prototype.forEach.call(this.target,function(b){a.push(u.get(b))});return a});flex.callers.define.nodes("html.find.childByAttr",function(a,b){var c=[];e();Array.prototype.forEach.call(this.target,function(d){c.push(G.childByAttr(d,a,b))});return c});flex.callers.define.nodes("html.find.childByType",function(a){var b=[];e();Array.prototype.forEach.call(this.target,function(c){b.push(G.childByType(c,a))});return b});flex.callers.define.nodes("html.find.parentByAttr",function(a){var b=[];e();
Array.prototype.forEach.call(this.target,function(c){b.push(G.parentByAttr(c,a))});return b});flex.callers.define.nodes("html.find.node",function(a){var b=[];g();Array.prototype.forEach.call(this.target,function(c){b.push(a.first(c,a))});return b});flex.callers.define.nodes("html.find.nodes",function(a){var b=[];g();Array.prototype.forEach.call(this.target,function(c){b.push(a.all(c,a))});return b})}};g.init();q={select:{bySelector:r.bySelector,fromParent:r.fromParent},find:h,size:p,scroll:n,builder:q,
styles:l,position:d,units:k,helpers:u};return{select:{bySelector:q.select.bySelector,fromParent:q.select.fromParent},find:q.find,size:q.size,scroll:q.scroll,builder:q.builder,styles:l,position:q.position,units:k,helpers:q.helpers}};V.prototype=function(){var r=null,r=null,r=function(h){function q(d){var f=void 0!==k[d]?d:null;if(null===f)for(var h in r)if(-1!==r[h].indexOf(d)){f=h;break}return f}function p(d){_object(k[d.type]).forEach(function(f,h){h.call(l,d)})}function n(g){void 0===l[g]&&Object.defineProperty(l,
g,{configurable:!0,enumerable:!0,get:function(){return d[g]},set:function(f){d[g]=f;p({type:"set",index:g,item:f})}})}var l=this,d=[],k={set:{},add:{},remove:{}},r={set:["update"],add:["new","push","unshift"],remove:["del","delete","shift","pop"]};Object.defineProperty(l,"bind",{configurable:!1,enumerable:!1,writable:!1,value:function(d,f,h){d=q(d);if(null!==d)if("function"===typeof f)if(h="string"===typeof h?h:flex.unique(),void 0===k[d][h])k[d][h]=f;else throw Error("0002: SAME_ID_OF_HANDLE");else throw Error("0001: HANDLE_ISNOT_FUNCTION");
else throw Error("0000: WRONG_EVENT_NAME");}});Object.defineProperty(l,"unbind",{configurable:!1,enumerable:!1,writable:!1,value:function(d,f){d=q(d);if(null!==d){if("function"===typeof f){for(var h in k[d])if(k[d][h]===f)return delete k[d][h],!0;return!1}if("string"===typeof f)return void 0!==k[d][f]?(delete k[d][f],!0):!1;throw Error("0003: HANDLE_OR_ID_SHOULD_BE");}throw Error("0000: WRONG_EVENT_NAME");}});Object.defineProperty(l,"pop",{configurable:!1,enumerable:!1,writable:!1,value:function(){if(-1<
d.length){var g=d.pop();delete l[d.length];p({type:"remove",index:d.length,item:g});return g}}});Object.defineProperty(l,"push",{configurable:!1,enumerable:!1,writable:!1,value:function(){for(var g=0,f=arguments.length;g<f;g++)d.push(arguments[g]),n(d.length-1),p({type:"add",index:d.length-1,item:arguments[g]});return d.length}});Object.defineProperty(l,"unshift",{configurable:!1,enumerable:!1,writable:!1,value:function(){for(var g=0,f=arguments.length;g<f;g++)d.splice(g,0,arguments[g]),n(d.length-
1),p({type:"add",index:g,item:arguments[g]});for(;g<d.length;g++)p({type:"set",index:g,item:d[g]});return d.length}});Object.defineProperty(l,"shift",{configurable:!1,enumerable:!1,writable:!1,value:function(){var g;if(0<d.length)return g=d.shift(),0===d.length&&delete l[0],p({type:"remove",index:0,item:g}),g}});Object.defineProperty(l,"splice",{configurable:!1,enumerable:!1,writable:!1,value:function(g,f){var h=[],b,c;g=void 0!==g?g>d.length-1?d.length:g:0;f=void 0!==f?f:d.length-g;for(c=0>g?d.length+
g:g;f--;)b=d.splice(c,1)[0],h.push(b),delete l[d.length],p({type:"remove",index:g+h.length-1,item:b});b=2;for(var e=arguments.length;b<e;b++)d.splice(c,0,arguments[b]),n(d.length-1),p({type:"add",index:c,item:arguments[b]}),c++;return h}});Object.defineProperty(l,"fill",{configurable:!1,enumerable:!1,writable:!1,value:function(g,f,h){var b=Object(d);h=void 0===h?d.length:h;var c=b.length>>>0;f=(void 0===f?0:f)>>0;f=0>f?Math.max(c+f,0):Math.min(f,c);h=void 0===h?c:h>>0;for(c=0>h?Math.max(c+h,0):Math.min(h,
c);f<c;)b[f]=g,p({type:"set",index:f,item:g}),f++;return b}});Object.defineProperty(l,"length",{configurable:!1,enumerable:!1,get:function(){return d.length},set:function(g){var f=Number(g);if(0===f%1&&0<=f)f<d.length?l.splice(f):f>d.length&&l.push.apply(l,Array(f-d.length));else throw new RangeError("0004: INVALID_LENGTH");return g}});Object.getOwnPropertyNames(Array.prototype).forEach(function(d){void 0===l[d]&&Object.defineProperty(l,d,{configurable:!1,enumerable:!1,writable:!1,value:Array.prototype[d]})});
h instanceof Array&&l.push.apply(l,h)},r={ExArray:r};return{ExArray:r.ExArray}};N.prototype=function(){var r,h,q,p,n,l,d,k,u,g,f,m,b,c,e,A,D,a,K,B,G,W,M,I,E,L,N,O,Y,P,Q,R,S,T,U,V,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,J={},Z,w={},C={},y={},Ca,Da,x={},F,H,t={},X={},v={},z={},J={settings:{CHECK_PATHS_IN_CSS:!0,SHOWN_LOGS:["CRITICAL","LOGICAL","WARNING"]},get:function(){return J.settings},set:function(a){for(var b in a)void 0!==J.settings[b]&&typeof J.settings[b]===
typeof a[b]&&(J.settings[b]=a[b])}};f=/\?.*/gi;m=/(\.[\w\n]*)$/gi;b=/[\w]*:\/\/[\w\n:\/\.]*\.js/gi;c=/[\s\t\n\r]/gi;e=/\.js$/gi;A=/\.css$/gi;Z={CORE:"patterns.min.js",CORE_URL:"",detect:function(){function a(b){b=t.url.parse(b.toLowerCase());Z.CORE=b.target;Z.CORE_URL=b.url;return b=b.path}var b=t.resources.js.getCurrentSRC(),c=null;if(null!==b)return a(b);c=document.querySelector('script[src*="'+Z.CORE+'"]');if(null!==c)return a(c.src);throw Error("Cannot detect URL and PATH to core script (default name: flex.core.js)");
}};w={settings:{DEFAULT_TIMEOUT:15E3,DEFAULT_METHOD:"POST",methods:{POST:"POST",GET:"GET",PUT:"PUT",DELETE:"DELETE",OPTIONS:"OPTIONS"},regs:{URLENCODED:/-urlencoded/gi,JSON:/application\/json/gi},headers:{CONTENT_TYPE:"Content-Type",ACCEPT:"Accept"}},requests:{storage:{},add:function(a){var b=w.requests.storage;return void 0===b[a.settings.id]?(b[a.settings.id]=a,!0):!1},remove:function(a){var b=w.requests.storage;return void 0!==b[a.settings.id]?(b[a.settings.id]=null,delete b[a.settings.id],!0):
!1},isConflict:function(a){return void 0===w.requests.storage[a]?!1:!0}},create:function(a,b,c,d,e){var f=null;a="string"===typeof a?a:null;b="string"===typeof b?-1!==[w.settings.methods.POST,w.settings.methods.GET,w.settings.methods.PUT,w.settings.methods.DELETE,w.settings.methods.OPTIONS].indexOf(b.toUpperCase())?b.toUpperCase():w.settings.DEFAULT_METHOD:w.settings.DEFAULT_METHOD;e=w.parse.settings(e);c=w.parse.parameters(c,e);d=w.parse.callbacks(d);return null!==a?(f=function(a,b,c,d,e){this.settings=
e;this.url=a;this.method=b;this.parameters=c;this.callbacks=d;this.httpRequest=this.responseHeaders=this.response=this.timerID=null},f.prototype={send:function(){var a=this;try{w.requests.add(a);a.httpRequest=new XMLHttpRequest;for(var b in a.events)(function(a,b){C.DOM.add(b.httpRequest,a,function(c){return b.events[a](c,b)})})(b,a);if(null!==a.httpRequest){a.callback(a.callbacks.before);switch(a.method){case w.settings.methods.POST:a.httpRequest.open(a.method,a.url,!0);a.setHeaders(a);a.httpRequest.send(a.parameters._parameters);
break;case w.settings.methods.GET:a.httpRequest.open(a.method,a.url+(""!==a.parameters._parameters?"?":"")+a.parameters._parameters,!0);a.setHeaders(a);a.httpRequest.send();break;default:a.httpRequest.open(a.method,a.url,!0),a.setHeaders(a),a.httpRequest.send(a.parameters._parameters)}a.timerID=setTimeout(function(){a.events.timeout(null,a)},a.settings.timeout);return!0}throw"Fail create XMLHttpRequest";}catch(c){a.callback(a.callbacks.fail,c),a.destroy(a)}},setHeaders:function(a){if(null!==a.settings.headers)for(var b in a.settings.headers)a.httpRequest.setRequestHeader(b,
a.settings.headers[b])},events:{readystatechange:function(a,b){if(!1!==w.requests.isConflict(b.settings.id)&&a.target&&a.target.readyState)switch(b.callback(b.callbacks.reaction,a),a.target.readyState){case 2:b.responseHeaders=b.parseHeaders(a.target.getAllResponseHeaders());b.callback(b.callbacks.headers,a);break;case 4:if(200===a.target.status)return b.response=b.parse(a.target.responseText),b.destroy(b),b.callback(b.callbacks.success,a),!0;b.destroy(b);b.callback(b.callbacks.fail,a);return!1}},
timeout:function(a,b){!1!==w.requests.isConflict(b.settings.id)&&(b.callback(b.callbacks.timeout,a),b.destroy(b))}},parse:function(a){var b={original:a,parsed:null};try{b.parsed=JSON.parse(a)}catch(c){}finally{return b}},parseHeaders:function(a){var b={_headers:a,headers:{}},c=null;"string"===typeof a&&(c=a.split("\r\n"),c instanceof Array&&c.forEach(function(a){var c=a.split(":");c instanceof Array&&""!==c[0]&&(b.headers[c[0]]=a.replace(c[0]+":",""))}));return b},callback:function(a,b){null!==a&&
t.handle(a,[this.response,{id:this.id,event:void 0!==b?b:null,headers:this.responseHeaders,response:this.response,parameters:this.parameters,url:this.url,abort:this.abort.bind(this)}],"ajax.callback:: request ID:: "+this.id+" URL:: "+this.url,this)},abort:function(){null!==this.httpRequest&&"function"===typeof this.httpRequest.abort&&this.httpRequest.abort()},destroy:function(a){clearTimeout(a.timerID);w.requests.remove(a)}},new f(a,b,c,d,e)):null},parse:{settings:function(a){a="object"===typeof a?
null!==a?a:{}:{};a.id="string"===typeof a.id?a.id:"number"===typeof a.id?a.id:X.id();a.id=!1===w.requests.isConflict(a.id)?a.id:X.id();a.timeout="number"===typeof a.timeout?a.timeout:w.settings.DEFAULT_TIMEOUT;a.doNotChangeHeaders="boolean"===typeof a.doNotChangeHeaders?a.doNotChangeHeaders:!1;a.doNotChangeParameters="boolean"===typeof a.doNotChangeParameters?a.doNotChangeParameters:!1;a.doNotEncodeParametersAsURL="boolean"===typeof a.doNotEncodeParametersAsURL?a.doNotEncodeParametersAsURL:!1;a.headers=
w.parse.headers(a);return a},parameters:function(a,b){var c={},d="",e=[],f=null;if(b.doNotChangeParameters)d=a;else{if(a instanceof Array)Array.prototype.forEach.call(a,function(b,d){var f;a[d]=param.replace(/^\s*\?/gi,"");f=a[d].split("=");f instanceof Array?2===f.length?c[f[0]]=f[1]:e.push(a[d]):e.push(a[d])});else if("object"===typeof a&&null!==a)for(var g in a){switch(typeof a[g]){case "string":c[g]=a[g];break;case "boolean":c[g]=a[g].toString();break;case "number":c[g]=a[g].toString();break;
case "object":c[g]=JSON.stringify(a[g]);break;default:try{c[g]=JSON.stringify(a[g])}catch(h){}}c[g]=c[g]}if("string"!==typeof a)if(w.settings.regs.JSON.lastIndex=0,w.settings.regs.URLENCODED.lastIndex=0,w.settings.regs.JSON.test(b.headers[w.settings.headers.CONTENT_TYPE]))d=JSON.stringify(c);else{f=w.settings.regs.URLENCODED.test(b.headers[w.settings.headers.CONTENT_TYPE]);f=b.doNotEncodeParametersAsURL?!1:f;for(g in c)d+="&"+g+"="+f?encodeURIComponent(c[g]):c[g];d=d.replace(/^\s*\&/gi,"")}else d=
a}return{original:a,parameters:c,_parameters:d,excluded:e}},callbacks:function(a){var b={before:null,success:null,fail:null,reaction:null,timeout:null};"object"===typeof a&&null!==a&&(b.before="function"===typeof a.before?a.before:null,b.success="function"===typeof a.success?a.success:null,b.fail="function"===typeof a.fail?a.fail:null,b.reaction="function"===typeof a.reaction?a.reaction:null,b.timeout="function"===typeof a.timeout?a.timeout:null,b.headers="function"===typeof a.headers?a.headers:null);
return b},headers:function(a){var b={};a.doNotChangeHeaders?b="object"===typeof a.headers?null!==a.headers?a.headers:{}:{}:("object"===typeof a.headers&&null!==a.headers&&y.objects.forEach(a.headers,function(a,c){var d=a.split("-");d.forEach(function(a,b){d[b]=a.charAt(0).toUpperCase()+a.slice(1)});b[d.join("-")]=c}),void 0===b[w.settings.headers.CONTENT_TYPE]&&(b[w.settings.headers.CONTENT_TYPE]="application/x-www-form-urlencoded"),void 0===b[w.settings.headers.ACCEPT]&&(b[w.settings.headers.ACCEPT]=
"*/*"));a.headers=b;return a.headers}}};y={classes:{of:function(a){return null===a||void 0===a?null:Object.prototype.toString.call(a).slice(8,-1)},create:function(a){var b="function"===typeof a.constr?a.constr:null,c="function"===typeof a.parent?a.parent:null,d=void 0!==a.privates?a.privates:{};a=void 0!==a.prototype?a.prototype:{};if(this instanceof y.classes.create)throw Error("Method [flex.oop.classes.create] cannot be used with derective NEW");if(null!==c){c.prototype=c.prototype;a="function"===
typeof a?a.call(new b,d):a;b.prototype=new c;for(var e in a)b.prototype[e]=a[e]}else b.prototype="function"===typeof a?a.call(new b,d):a;d.__instance=new b;return d.__instance}},objects:{forEach:function(a,b){if("object"===typeof a){for(var c in a)b(c,a[c]);"toString"in{toString:null}||Array.prototype.forEach.call("toString valueOf constructor hasOwnPropery isPrototypeOf propertyIsEnumerable toLocaleString".split(" "),function(d){a.hasOwnProperty(prototype)&&b(d,a[c])})}},extend:function(a,b,c){c=
"Array"===y.classes.of(c)?c:[];b=null!==b?void 0!==b?"object"===typeof b?b:{}:{}:{};a="object"===typeof a?[a]:"Array"===y.classes.of(a)?a:null;null!==a&&Array.prototype.forEach.call(a,function(a){if("object"===typeof a)for(var d in a)-1===c.indexOf(d)&&(b[d]=a[d])});return b},copy:function(a,b){function c(a){var b=null;a instanceof Array?(b=[],Array.prototype.forEach.call(a,function(a){a instanceof Array||"object"===typeof a||"function"===typeof a?b.push(c(a)):b.push(a)})):b="object"===typeof a&&
null!==a&&"function"!==typeof a?d(a):a;return b}b=b||{};a="object"===typeof a?a:null;var d=y.objects.copy;if(null!==a){for(var e in a)a.hasOwnProperty(e)&&(b[e]=c(a[e]));return b}return null},validate:function(a,b){a="object"===typeof a?a:null;b=b||null;var c=null,d=null;if(null!==a&&null!==b){b=b instanceof Array?b:[b];try{b.forEach(function(b){if(b.name&&b.type)if(a[b.name]||"boolean"===typeof a[b.name]||"number"===typeof a[b.name]){if(b.type="string"===typeof b.type?[b.type]:b.type,b.type instanceof
Array){c=!1;try{b.type.forEach(function(d){"node"===d?a[b.name]&&(c=a[b.name].nodeName?!0:c):c="array"===d?!0===a[b.name]instanceof Array?!0:c:void 0!==window[d]&&-1===["string","number","bool"].indexOf(d)?a[b.name]instanceof window[d]?!0:c:typeof a[b.name]===d?!0:c;if(!1!==c)throw"found";})}catch(e){"found"!==e&&(c=!1)}finally{if(!1===c)if(void 0!==b.value)a[b.name]=b.value;else throw"deny";else{if(void 0!==b.values&&b.values instanceof Array){try{d=!1,b.values.forEach(function(c){if(a[b.name]===
c)throw d=!0,"found";})}catch(e){}if(!1===d)throw"deny";}if("function"===typeof b.handle)try{a[b.name]=b.handle(a[b.name])}catch(e){if(b.value)a[b.name]=b.value;else throw"deny";}}}}}else if(void 0!==b.value)a[b.name]=b.value;else throw"deny";})}catch(e){return!1}return!0}return null},isValueIn:function(a,b,c){c="boolean"===typeof c?c:!1;if(a instanceof Array){try{a.forEach(function(a){if(a===b)throw"found";}),!1!==c&&a.forEach(function(a){if(("object"===typeof a||a instanceof Array)&&!0===y.objects.isValueIn(a,
b,c))throw"found";})}catch(d){return!0}return!1}if("object"===typeof a){try{y.objects.forEach(a,function(a,c){if(c===b)throw"found";}),!1!==c&&y.objects.forEach(a,function(a,d){if(("object"===typeof d||d instanceof Array)&&!0===y.objects.isValueIn(d,b,c))throw"found";})}catch(d){return!0}return!1}return null},getByPath:function(a,b){a="object"===typeof a?a:null;b="string"===typeof b?b:b instanceof Array?b:null;var c=null,d=a,e=!1;if(null!==a&&null!==b){c=b instanceof Array?b:b.split(".");try{c.forEach(function(a){if(void 0!==
d[a])d=d[a];else throw"NO_BY_PATH";}),e=!0}catch(f){if("NO_BY_PATH"!==f)throw f;}}return e?d:void 0},findBy:function(a,b,c,d){a="object"===typeof a?a:null;b="string"===typeof b?b:null;var e=(d="boolean"===typeof d?d:!1)?[]:null;if(null!==a&&null!==b){b=b.split(".");try{y.objects.forEach(a,function(a,f){var Ea=y.objects.getByPath(f,b);if(void 0!==Ea&&Ea===c)if(d)e.push(f);else throw e=f,"1";})}catch(f){if("1"!==f)throw f;}}return e}},wrappers:{objects:function(){v.prototypes.add.object("forEach",function(a){return y.objects.forEach(this.target,
a)});v.prototypes.add.object("extend",function(a,b){return y.objects.extend(this.target,a,b)});v.prototypes.add.object("copy",function(a){return y.objects.copy(this.target,a)});v.prototypes.add.object("validate",function(a){return y.objects.validate(this.target,a)});v.prototypes.add.object("isValueIn",function(a,b){return y.objects.isValueIn(this.target,a,b)});v.prototypes.add.object("getByPath",function(a){return y.objects.getByPath(this.target,a)});v.prototypes.add.object("findBy",function(a,b,
c){return y.objects.findBy(this.target,a,b,c)});v.prototypes.add.object("createInstanceClass",function(){return y.classes.create(this.target)})}}};x={storage:{data:{},get:function(){x.storage.data=t.localStorage.getJSON("flex.hash.storage","[FLEX_SYSTEM_RESURCES]");"object"===typeof x.storage.data&&null!==x.storage.data||x.storage.create();return x.storage.data},create:function(){x.storage.data={};x.storage.update()},update:function(){t.localStorage.setJSON("flex.hash.storage",x.storage.data,"[FLEX_SYSTEM_RESURCES]")}},
get:function(a){var b=x.storage.get();return"object"===typeof b[a]?b[a].hash:null},set:function(a,b){var c=x.storage.get();return"string"===typeof b?(c[a]={url:a,hash:b},x.storage.update(),!0):!1},update:{add:function(a){x.update.queue.add(a)},queue:{queue:{},journal:{},isLock:!1,unlock:function(){x.update.queue.isLock=!1;x.update.proceed()},add:function(a){"string"===typeof a&&void 0===x.update.queue.journal[a]&&(x.update.queue.journal[a]=!0,x.update.queue.queue[a]={url:a,working:!1});x.update.queue.isLock||
x.update.proceed()},del:function(a){"string"===typeof a&&(x.update.queue.queue[a]=null,delete x.update.queue.queue[a])},work:function(a){"object"===typeof x.update.queue.queue[a]&&(x.update.queue.queue[a].working=!0)},isWorking:function(a){if("object"===typeof x.update.queue.queue[a])return x.update.queue.queue[a].working}},proceed:function(){y.objects.forEach(x.update.queue.queue,function(a,b){var c=null;!1===x.update.queue.isWorking(a)&&(x.update.queue.work(a),c=w.create(b.url,w.settings.methods.GET,
null,{headers:function(c,d){x.update.processing(a,b.url,d)},fail:function(c,d){x.update.fail(a,b.url,d)}}),c.send())})},processing:function(a,b,c){var d="",e=x.get(b);null!==c.headers&&""!==c.headers._headers&&(x.update.queue.del(a),y.objects.forEach(c.headers.headers,function(a,b){"date"!==a.toLowerCase()&&(d+=b)}),x.get(b)!==d&&(null===e?z.log("[HASHES]:: hash for resource ["+b+"] was generated. Next updating of page, resource will be loaded again.",z.types.KERNEL_LOGS):(z.log("[HASHES]:: resource ["+
b+"] have to be updated.",z.types.KERNEL_LOGS),x.resources.update(b)),x.set(b,d)),c.abort())},fail:function(a,b,c){null===c.headers&&(z.log("[HASHES]:: fail to load hash for resource ["+b+"].",z.types.KERNEL_LOGS),x.update.queue.del(a))}},resources:{update:function(a){if(!0===x.resources.css.update(a))return!0;z.log("[HASHES]:: resource ["+a+"] cannot be updated in current session. It will be done after page be reloaded.",z.types.KERNEL_LOGS)},css:{update:function(a){var b=document.querySelector("style["+
t.resources.css.settings.attr.SRC+'$="'+a+'"]');return null!==b?(t.resources.css.connect(a,function(){b.parentNode.removeChild(b);z.log("[HASHES]:: resource ["+a+"] have been updated in current session.",z.types.KERNEL_LOGS)}),!0):!1}}}};F={storage:{},get:function(a,b,c){var d=F.storage;return a in d&&b in d[a]?d[a][b]:c?F.set(a,b,c):null},set:function(a,b,c){var d=F.storage;d[a]=a in d?d[a]:{};d[a][b]=c;return d[a][b]},remove:function(a,b){var c=F.storage;return a in c&&b in c[a]?(c[a][b]=null,delete c[a][b],
0===Object.keys(c[a]).length&&(c[a]=null,delete c[a]),!0):!1}};r={deleteAttribute:function(a,b){try{delete a[b]}catch(c){a.removeAttribute(b)}},clear:function(a){0===Object.keys(a.FlexObjectStorage).length&&(a.FlexObjectStorage=null,r.deleteAttribute(a,"FlexObjectStorage"))}};H={settings:{COMMON_STORAGE_NAME:"FlexRegisterStorage"},build:function(a,b){var c=function(a,b){this.name=a;this.onReady=b;this.items={}};c.prototype={add:function(a){return this.items[a]?!1:(this.items[a]={isDone:!1,key:a},
!0)},done:function(a,b){this.items[a]&&(this.items[a].isDone=!0);return!1===("boolean"===typeof b?b:!1)&&!1!==this.isReady()?(null!==this.onReady&&t.handle(this.onReady,null,"Register: "+this.name,this),!0):!1},isReady:function(){for(var a in this.items)if(!1===this.items[a].isDone)return!1;return!0},isIn:function(a){return this.items[a]?!0:!1},isDone:function(a){return this.items[a]?this.items[a].isDone:null}};return new c(a,b)},open:function(a,b,c){a="string"===typeof a?a:null;b=b instanceof Array?
b:void 0!==b?[b]:null;c="function"===typeof c?c:null;var d=null,e=F.get("flex.core",H.settings.COMMON_STORAGE_NAME,{});return null===a||e[a]?!1:(d=H.build(a,c),b.forEach(function(a){d.add(a)}),e[a]=d,!0)},add:function(a,b){var c=F.get("flex.core",H.settings.COMMON_STORAGE_NAME,{});return c[a]?c[a].add(b):!1},done:function(a,b,c){var d=F.get("flex.core",H.settings.COMMON_STORAGE_NAME,{});d[a]&&!1!==d[a].done(b,"boolean"===typeof c?c:!1)&&(d[a]=null,delete d[a]);return!1},isIn:function(a,b){var c=F.get("flex.core",
H.settings.COMMON_STORAGE_NAME,{});return c[a]?c[a].isIn(b):!1},isDone:function(a,b){var c=F.get("flex.core",H.settings.COMMON_STORAGE_NAME,{});return c[a]?c[a].isDone(b):!1},isReady:function(a){var b=F.get("flex.core",H.settings.COMMON_STORAGE_NAME,{});return b[a]?b[a].isReady():!0}};C={DOM:{add:function(){return"function"===typeof window.addEventListener?function(a,b,c){Array.prototype.forEach.call(b instanceof Array?b:[b],function(b){a.addEventListener(b,c,!1)})}:"function"===typeof document.attachEvent?
function(a,b,c){Array.prototype.forEach.call(b instanceof Array?b:[b],function(b){a.attachEvent("on"+b,c)})}:function(a,b,c){Array.prototype.forEach.call(b instanceof Array?b:[b],function(b){a["on"+b]=c})}}(),remove:function(){return"function"===typeof window.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:"function"===typeof document.detachEvent?function(a,b,c){a.detachEvent("on"+b,c)}:function(a,b,c){a["on"+b]=null}}()},core:{storage:{},listen:function(a,b,c,d,e){a=a||null;b=
b||null;c=c||null;d=d||X.id();var f=C.core;if(null!==a&&null!==b&&null!==c){if(!1!==("boolean"!==typeof e?!1:e)&&null===f.get(a,b))return!1;a=f.register(a,b);a[d]=c;return d}return!1},remove:function(a,b,c){a=a||null;b=b||null;c=c||null;var d,e=C.core.storage;d=C.core;return null!==a&&null!==b&&null!==c&&(d=d.register(a,b),c in d)?(d[c]=null,delete d[c],0===Object.keys(d).length&&(e[a][b]=null,delete e[a][b],0===Object.keys(e[a]).length&&(e[a]=null,delete e[a])),!0):!1},register:function(a,b){var c=
C.core.storage;a in c||(c[a]={});b in c[a]||(c[a][b]={});return c[a][b]},get:function(a,b){var c=C.core.storage;return a in c&&b in c[a]?c[a][b]:null},fire:function(a,b,c){a=C.core.get(a,b);if(null!==a)for(var d in a)try{a[d](c)}catch(e){}}}};t={handle:function(a,b,c,d,e){function f(){return null===b?a.call(d):"number"===typeof b.length&&"object"===typeof b?a.apply(d,b):a.call(d,b)}a=a||null;b=b||null;c=c||null;d=d||null;if(null!==a)if(e)try{return f()}catch(g){z.log("Initializer runFunction method catch error: \r\n"+
z.parseError(g)+"\r\n Call point: "+c,z.types.WARNING)}else return f();return null},localStorage:{get:function(a,b,c){var d=null;b="boolean"===typeof b?b:!1;try{return d=window.localStorage.getItem(("string"===typeof c?c:"")+a),"string"!==typeof d&&(d=null),!1!==b&&(d=t.convertor.BASE64.decode(d),d=t.convertor.UTF8.decode(d)),d}catch(e){return null}},set:function(a,b,c,d){var e=b;c="boolean"===typeof c?c:!1;d="string"===typeof d?d:"";try{return window.localStorage.removeItem(d+a),!1!==c&&(e="string"!==
typeof b?JSON.stringify(b):e,e=t.convertor.UTF8.encode(e),e=t.convertor.BASE64.encode(e)),window.localStorage.setItem(d+a,e),!0}catch(f){return z.log("Error during saving data into localStorage. [key]:["+a+"]",z.types.WARNING),!1}},del:function(a,b){try{return window.localStorage.removeItem(("string"===typeof b?b:"")+a),!0}catch(c){return z.log("Error during deleting data from localStorage. [key]:["+a+"]",z.types.WARNING),null}},getJSON:function(a,b){var c=t.localStorage.get(a,!0,b);if(null!==c)try{return c=
JSON.parse(c)}catch(d){}return null},setJSON:function(a,b,c){return t.localStorage.set(a,JSON.stringify(b),!0,c)},reset:function(a){a="string"===typeof a?a:"";var b=[];try{if(null!==a){for(var c in window.localStorage)0===c.indexOf(a)&&b.push(c);b.forEach(function(a){window.localStorage.removeItem(a)})}else window.localStorage.clear();return!0}catch(d){return!1}},isAvailable:function(){var a=X.id(),b;t.localStorage.set(a,a);b=t.localStorage.get(a)===a?!0:!1;t.localStorage.del(a);return b}},resources:{settings:{RESOURCES_MARK_ATTR:{name:"data-flex-connect-mark",
value:"dynamically"},CSS_TIMER_PROPERTY:"flex_css_load_event_timer",CSS_TIMER_DURATION:5E3},css:{settings:{URLS:[{reg:/url\('([^\)'].*?)'\)/gi,left:/url\('/gi,right:/'\)/gi,_left:'url("',_right:'")'},{reg:/url\("([^\)"].*?)"\)/gi,left:/url\("/gi,right:/"\)/gi,_left:'url("',_right:'")'}],attr:{SRC:"data-flex-src"}},connect:function(a,b,c){function d(a){var b=t.resources.settings,c=document.createElement("LINK");c.type="text/css";c.href=a;c.rel="stylesheet";c.setAttribute(b.RESOURCES_MARK_ATTR.name,
b.RESOURCES_MARK_ATTR.value);return{link:c,append:function(){document.head.appendChild(c)}}}function e(a,b,c){function d(a,b){clearTimeout(a[f.CSS_TIMER_PROPERTY]);a[f.CSS_TIMER_PROPERTY]=null;delete a[f.CSS_TIMER_PROPERTY]}var f=t.resources.settings;a[f.CSS_TIMER_PROPERTY]=setTimeout(function(){if(void 0!==a[f.CSS_TIMER_PROPERTY]){var e=document.createElement("IMG");d(a,f);C.DOM.add(e,["load","error"],function(a){t.handle(c,b,"system.resources.css.connect",this)});e.src=b}},f.CSS_TIMER_DURATION);
C.DOM.add(a,"load",function(e){void 0!==a[f.CSS_TIMER_PROPERTY]&&(d(a,f),t.handle(c,b,"system.resources.css.connect",this))})}function f(a){try{Array.prototype.forEach.call(document.styleSheets,function(b){if(-1!==b.href.indexOf(a))throw"found";})}catch(b){if("found"===b)return!0}return!1}var g=null;b=b||null;c=c||null;a=a||null;return null!==a&&!1===f(a)?(g=d(a),C.DOM.add(g.link,"error",function(b){z.log("During loading CSS resource ["+a+"] was error",z.types.WARNING)}),null!==c&&C.DOM.add(g.link,
"error",c),null!==b?e(g.link,a,b):t.handle(b,null,"system.resources.css.connect",this),g.append(),!0):!1},adoption:function(a,b,c){b=null!==b?"object"===typeof b?void 0!==b.body?b:document:document:document;var d=b.createElement("style");c="string"===typeof c?c:null;if("string"===typeof a)try{return null!==c&&(a=t.resources.css.correctPaths(a,c),d.setAttribute(t.resources.css.settings.attr.SRC,c)),d.type="text/css",d.styleSheet?d.styleSheet.cssText=a:d.appendChild(b.createTextNode(a)),b.head.appendChild(d),
d}catch(e){z.log("Error during adoption of CSS resource: url = ["+c+"], cssText starts from ["+a.substr(0,50)+" (...)]",z.types.CRITICAL)}return null},correctPaths:function(a,b){!1!==J.settings.CHECK_PATHS_IN_CSS&&"string"===typeof b&&""!==b&&t.resources.css.settings.URLS.forEach(function(c){var d=a.match(c.reg);d instanceof Array&&d.forEach(function(d){var e;e=d.replace(c.left,"");e=e.replace(c.right,"");var f;0!==e.trim().toLowerCase().indexOf("data:")&&(f=t.url.parse(e,b),e=null!==f?f.url:e);null!==
e&&(a=a.replace(d,c._left+e+c._right))})});return a}},js:{connect:function(a,b,c){function d(a){var b=t.resources.settings,c=document.createElement("SCRIPT");c.type="application/javascript";c.src=a;c.setAttribute(b.RESOURCES_MARK_ATTR.name,b.RESOURCES_MARK_ATTR.value);return{script:c,append:function(){document.head.appendChild(c)}}}var e=null;b=b||null;c=c||null;a=a||null;return null!==a?(e=d(a),null!==b&&C.DOM.add(e.script,"load",b),null!==c&&C.DOM.add(e.script,"error",c),e.append(),e.script):!1},
adoption:function(a,b){var c=document.createElement("SCRIPT");b=b||null;a=a||null;null!==a&&(c.type="application/javascript",c.appendChild(document.createTextNode(a)),document.body.insertBefore(c,document.body.childNodes[0]),null!==b&&t.handle(b,null,"system.resources.js.adoption",this))},getCurrentSRC:function(){var a;try{throw Error("Script URL detection");}catch(c){return"string"===typeof c.stack&&(a=c.stack.match(b),a instanceof Array&&0<a.length)?-1===a[a.length-1].indexOf(Z.CORE_URL)?a[a.length-
1]:null:null}}}},convertor:{UTF8:{encode:function(a){return unescape(encodeURIComponent(a))},decode:function(a){return decodeURIComponent(escape(a))}},BASE64:{decode:function(a){var b={},c,d=[],e="",f=String.fromCharCode,g,h=[[65,91],[97,123],[48,58],[43,44],[47,48]],k=0,l=0,m;for(g in h)for(c=h[g][0];c<h[g][1];c++)d.push(f(c));for(c=0;64>c;c++)b[d[c]]=c;for(c=0;c<a.length;c+=72)for(g=a.substring(c,c+72),d=0;d<g.length;d++)for(h=b[g.charAt(d)],k=(k<<6)+h,l+=6;8<=l;)h=f((k>>>(l-=8))%256),m=h.charCodeAt(0),
e=0!==m?e+h:e;return e},encode:function(a){var b,c,d,e,f=0,g=0,h=[];if(!a)return a;do b=a.charCodeAt(f++),c=a.charCodeAt(f++),d=a.charCodeAt(f++),e=b<<16|c<<8|d,b=e>>18&63,c=e>>12&63,d=e>>6&63,e&=63,h[g++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e);
while(f<a.length);f=h.join("");a=a.length%3;return(a?f.slice(0,a-3):f)+"===".slice(a||3)}}},url:{settings:{parser:{LAST:/([^\/]*)$/gi,CORRECTION:/[\/\\]$/gi,BAD_SLASH:/\\/gi,PROTOCOL:/:\/\//gi,DOUBLE:/\/{2,}/gi}},getURLInfo:function(a){var b=document.createElement("a"),c=null;"string"===typeof a&&(b.setAttribute("href",a),c={hostname:b.hostname,host:b.host,port:b.port,protocol:b.protocol,isFull:!1},c.isFull=""!==c.hostname?0!==a.indexOf(c.protocol+"//"+c.hostname)?!1:!0:!1);return c},getCurrentDomain:function(){return window.location.origin?
window.location.origin:window.location.protocol+"//"+window.location.host},getParams:function(a){var b=null,c=null;a=a.split("?");b=2===a.length?a[1]:null;a=a[0];null!==b&&(c=b.split("&"),b={},c.forEach(function(a){a=a.split("=");2===a.length&&(b[a[0]]=a[1])}));return{url:a,params:b}},restoreFullURL:function(a){var b;return"string"===typeof a?(b=t.url.getURLInfo(a),!1===b.isFull?""===b.hostname?t.url.getCurrentDomain()+(0!==a.indexOf("/")?"/":"")+a:b.protocol+"//"+b.host+(0!==a.indexOf("/")?"/":"")+
a:a):null},parse:function(a,b){function c(a){var b=0,d=!0,e=-1,f="";a.split("/").forEach(function(a,c){".."===a?(b+=1,-1!==e&&e!==c-1&&(d=!1),e=c):f+="/"+a});return!0===d?{count:b,url:f}:!1}function d(a){a=a.replace(t.url.settings.parser.CORRECTION,"");return a=a.replace(t.url.settings.parser.BAD_SLASH,"/")}var e=null,f=null;b="string"===typeof b?b:null;var e=0,g=f=null;if("string"===typeof a&&(a=d(a),g=t.url.getParams(a),a=g.url,g=g.params,f=t.url.getURLInfo(a),null!==f&&(e=c(a),!1!==e)))if(0<e.count){if(null!==
b&&(f=t.url.parse(b),null!==f&&e.count<f.parts.length-1))return f.parts.splice(f.parts.length-e.count,e.count),f.parts=f.parts.map(function(a){return"//"===a?"":a}),a=f.parts.join("/")+e.url,t.url.parse(a)}else if(!1===f.isFull){if(b=null===b?t.url.getCurrentDomain():b,f=t.url.parse(b),null!==f)return 0===a.indexOf("~/")?a=a.replace("~",f.home):(f.parts=f.parts.map(function(a){return"//"===a?"":a}),a=f.parts.join("/")+(0!==a.indexOf("/")?"/":"")+a),t.url.parse(a)}else if(e={target:a.match(t.url.settings.parser.LAST),
_path:"",_url:a,_hostname:f.hostname,hostname:""!==f.hostname?f.hostname:window.location.hostname,_host:f.host,host:""!==f.host?f.host:window.location.host,_port:f.port,port:""!==f.port?f.port:window.location.port,_protocol:f.protocol,protocol:":"!==f.protocol?f.protocol:window.location.protocol,home:""===f.hostname?window.location.protocol+"//"+window.location.host:f.protocol+"//"+f.host,_home:""!==f.hostname?f.protocol+"//"+f.host:"",params:g,parts:null},0<e.target.length)return e.target instanceof
Array?(e.target=e.target[0],-1===e.target.indexOf(".")&&(e.target="")):e.target="",e._path=a.replace(e.target,""),""===e._home?(e.path=e.home+(0===e._path.indexOf("/")?"":"/")+e._path,e.url=e.home+(0===e._url.indexOf("/")?"":"/")+e._url):(e.path=e._path,e.url=e._url),e.parts=e.url.split("/").map(function(a){return""===a?"//":a}),-1!==e.parts.indexOf(e.target)&&e.parts.splice(e.parts.indexOf(e.target),1),e;return null},sterilize:function(a){var b=X.id();return a.replace(t.url.settings.parser.PROTOCOL,
b).replace(t.url.settings.parser.BAD_SLASH,"/").replace(t.url.settings.parser.DOUBLE,"/").replace(b,"://")},getTypeOfResource:function(a){a=a.replace(f,"");a=a.match(m);return a instanceof Array&&1===a.length?a[0].toLowerCase():null},is:{clear:function(a){return"string"===typeof a?(a=a.split("?"),a=a[0],a=a.replace(c,"")):null},js:function(a){a=t.url.is.clear(a);return null!==a?(e.lastIndex=0,e.test(a)):!1},css:function(a){a=t.url.is.clear(a);return null!==a?(A.lastIndex=0,A.test(a)):!1}}}};X={id:function(){var a=
0;return function(b){a+=1;return(b||"")+(new Date).valueOf()+"_"+a}}()};z={types:{CRITICAL:"CRITICAL",LOGICAL:"LOGICAL",WARNING:"WARNING",NOTIFICATION:"NOTIFICATION",LOGS:"LOG",KERNEL_LOGS:"KERNEL_LOGS"},rendering:{CRITICAL:"color: #FF0000;font-weight:bold;",LOGICAL:"color: #00FFF7;font-weight:bold;",WARNING:"color: #A69600;font-weight:bold;",NOTIFICATION:"color: #988DFF;font-weight:bold;",LOGS:"color: #6C6C6C;",KERNEL_LOGS:"color: #008B0E;font-weight:bold;"},parseError:function(a){var b=a.name+": "+
a.message+"\r\n--------------------------------------------",c;for(c in a)"name"!==c&&"message"!==c&&(b=b+"\r\n  "+c+"="+a[c]);return b},log:function(a,b){b=b||"LOGS";console&&z.types[b]&&void 0!==console.log&&-1!==J.settings.SHOWN_LOGS.indexOf(b)&&console.log("%c ["+b+"]%c"+a,z.rendering[b],z.rendering.LOGS)}};v={callers:{node:function(){var a={};return function(b,c,d){var e=null;c="boolean"===typeof c?c:!1;if("string"===typeof b){if(c&&a[b]&&null!==a[b]&&(e=a[b]),e=null!==e?e:(d||document).querySelector(b),
c&&!a[b]&&null!==e&&(a[b]=e),null!==e)return new v.constructors.node(e)}else if(void 0!==b&&("string"===typeof b.nodeName||b==window))return new v.constructors.node(b);return null}}(),nodes:function(){var a={};return function(b,c,d){var e=null;c="boolean"===typeof c?c:!1;if("string"===typeof b){if(c&&a[b]&&null!==a[b]&&0<a[b].length&&(e=a[b]),e=null!==e?e:(d||document).querySelectorAll(b),c&&!a[b]&&null!==e&&0<e.length&&(a[b]=e),null!==e)return new v.constructors.nodes(e)}else if(void 0!==b&&"number"===
typeof b.length&&0<b.length){if("string"===typeof b[0])return e=[],Array.prototype.forEach.call(b,function(a,b){var c=(d||document).querySelector(a);null!==c&&e.push(c)}),new v.constructors.nodes(e);if("string"===typeof b[0].nodeName)return new v.constructors.nodes(b)}return null}}(),array:function(a){return a instanceof Array?new v.constructors.array(a):null},string:function(a){return"string"===typeof a?new v.constructors.string(a):null},"boolean":function(a){return"boolean"===typeof a?new v.constructors["boolean"](a):
null},object:function(a){return"object"===typeof a?new v.constructors.object(a):null}},prototypes:{node:{},nodes:{},array:{},string:{},"boolean":{},object:{},update:{update:function(a){function b(a){var c=null,d;for(d in a)if(a.hasOwnProperty(d)){if("object"===typeof a[d]){var c=function(){c.target=this.target;return c},e;for(e in a[d])c[e]=a[d][e];a[d]=c}"function"===typeof a[d]&&b(a[d])}}v.prototypes[a]&&b(v.prototypes[a])},node:function(){v.prototypes.update.update("node")},nodes:function(){v.prototypes.update.update("nodes")},
array:function(){v.prototypes.update.update("array")},string:function(){v.prototypes.update.update("string")},"boolean":function(){v.prototypes.update.update("boolean")},object:function(){v.prototypes.update.update("object")}},add:{add:function(a,b,c){var d=null,e=null;"string"===typeof a&&"string"===typeof b&&void 0!==c&&v.prototypes[a]&&(d=b.split("."),e=v.prototypes[a],d.forEach(function(a,b){void 0===e[a]?b===d.length-1?e[a]=c:(e[a]={},e=e[a]):("object"!==typeof e[a]&&"function"!==typeof e[a]&&
(e[a]={}),e=e[a])}),v.prototypes.update[a]())},node:function(a,b){v.prototypes.add.add("node",a,b)},nodes:function(a,b){v.prototypes.add.add("nodes",a,b)},array:function(a,b){v.prototypes.add.add("array",a,b)},string:function(a,b){v.prototypes.add.add("string",a,b)},"boolean":function(a,b){v.prototypes.add.add("boolean",a,b)},object:function(a,b){v.prototypes.add.add("object",a,b)}}},constructors:{node:function(a){this.target=a},nodes:function(a){this.target=a},array:function(a){this.target=a},string:function(a){this.target=
a},"boolean":function(a){this.target=a},object:function(a){this.target=a}},build:function(){for(var a in v.constructors)v.constructors[a].prototype=v.prototypes[a];return!0}};Ca=J.init;K=y.objects.copy;B=y.objects.extend;G=y.objects.forEach;W=y.objects.validate;M=y.objects.isValueIn;D=y.classes.of;a=y.classes.create;Da=X.id;O=C.DOM.add;Y=C.DOM.remove;I=C.core.fire;E=C.core.listen;L=C.core.register;N=C.core.remove;S=F.set;T=F.get;U=F.remove;P=H.open;Q=H.add;R=H.done;Aa=w.create;Ba={POST:w.settings.methods.POST,
GET:w.settings.methods.GET,PUT:w.settings.methods.PUT,DELETE:w.settings.methods.DELETE,OPTIONS:w.settings.methods.OPTIONS};xa=z.parseError;ya=z.log;za=z.types;ra=v.callers.node;sa=v.callers.nodes;ta=v.callers.array;ua=v.callers.object;va=v.callers.string;wa=v.callers["boolean"];V=v.prototypes.add.node;aa=v.prototypes.add.nodes;ba=v.prototypes.add.array;ca=v.prototypes.add.object;da=v.prototypes.add.string;ea=v.prototypes.add["boolean"];u=t.resources.css.connect;g=t.resources.css.adoption;l=t.resources.js.connect;
d=t.resources.js.adoption;k=t.resources.js.getCurrentSRC;qa=t.handle;p=t.convertor.UTF8.encode;n=t.convertor.UTF8.decode;h=t.convertor.BASE64.encode;q=t.convertor.BASE64.decode;fa=t.url.parse;ga=t.url.restoreFullURL;la=t.localStorage.set;ma=t.localStorage.get;na=t.localStorage.del;oa=t.localStorage.setJSON;pa=t.localStorage.getJSON;ja=x.get;ka=x.update.add;ha=J.get;ia=J.set;Z.detect();v.build();y.wrappers.objects();return{init:Ca,oop:{objects:{copy:K,extend:B,forEach:G,validate:W,isValueIn:M},classes:{of:D,
create:a}},unique:Da,events:{DOM:{add:O,remove:Y},core:{fire:I,listen:E,register:L,remove:N}},overhead:{globaly:{set:S,get:T,del:U},objecty:{set:function(a,b,c,d){return"object"===typeof a&&"string"===typeof b&&void 0!==c?("object"!==typeof a.FlexObjectStorage&&(a.FlexObjectStorage={}),!1===("boolean"===typeof d?d:!0)?void 0===a.FlexObjectStorage[b]&&(a.FlexObjectStorage[b]=c):a.FlexObjectStorage[b]=c,c):null},get:function(a,b,c,d){d=void 0!==d?d:null;if("object"===typeof a&&"string"===typeof b)if("object"===
typeof a.FlexObjectStorage){if(void 0!==a.FlexObjectStorage[b])return d=a.FlexObjectStorage[b],!0===("boolean"===typeof c?c:!1)&&(a.FlexObjectStorage[b]=null,r.deleteAttribute(a,b),r.clear(a)),d;if(null!==d)return a.FlexObjectStorage[b]=d,a.FlexObjectStorage[b]}else if(null!==d)return a.FlexObjectStorage={},a.FlexObjectStorage[b]=d,a.FlexObjectStorage[b];return null},del:function(a,b){return"object"===typeof a&&"string"===typeof b?"object"===typeof a.FlexObjectStorage&&void 0!==a.FlexObjectStorage[b]?
(a.FlexObjectStorage[b]=null,r.deleteAttribute(a,b),r.clear(a),!0):!1:null}},register:{open:P,add:Q,done:R}},ajax:{send:Aa,methods:Ba},resources:{parse:{css:{stringify:function(a){function b(a){function c(a){var b="";a.cssRules&&(b="@keyframes "+a.name+" {\n\r",Array.prototype.forEach.call(a.cssRules,function(a){b+=a.keyText+" { "+a.style.cssText+" }\n\r"}),b+="}");return b}var d="";a.cssRules||a.rules?Array.prototype.forEach.call(a.cssRules||a.rules,function(a){d="string"===typeof a.cssText?d+(a.cssText+
"\n\r"):d+(c(a)+"\n\r")}):"string"===typeof a.cssText&&(d=a.cssText);return d}var c=null;try{Array.prototype.forEach.call(document.styleSheets,function(d){if(d.href&&-1!==d.href.indexOf(a))throw c=b(d),"found";})}catch(d){}finally{return c}}}},attach:{css:{connect:u,adoption:g},js:{connect:l,adoption:d,getCurrentSRC:k}}},localStorage:{add:la,get:ma,del:na,addJSON:oa,getJSON:pa},system:{handle:qa,convertor:{UTF8:{encode:p,decode:n},BASE64:{encode:h,decode:q}},url:{parse:fa,restore:ga}},logs:{parseError:xa,
log:ya,types:za},hashes:{get:ja,update:ka},callers:{node:ra,nodes:sa,array:ta,object:ua,string:va,"boolean":wa,define:{node:V,nodes:aa,array:ba,object:ca,string:da,"boolean":ea}},config:{get:ha,set:ia}}};N.prototype=N.prototype();window.flex=new N;window._node=flex.callers.node;window._nodes=flex.callers.nodes;window._array=flex.callers.array;window._object=flex.callers.object;window._string=flex.callers.string;window._boolean=flex.callers["boolean"];flex.registry={};flex.registry.events={ui:{window:{resize:{GROUP:"flex.ui.window.resize",
REFRESH:"refresh",FINISH:"finish"},maximize:{GROUP:"flex.ui.window.maximize",MAXIMIZED:"maximized",RESTORED:"restored",CHANGE:"change"}},patterns:{GROUP:"flex.ui.patterns",MOUNTED:"mounted"}}};O.prototype=O.prototype();P.prototype=P.prototype();M.prototype=M.prototype();Q.prototype=Q.prototype();R.prototype=R.prototype();S.prototype=S.prototype();T.prototype=T.prototype();U.prototype=U.prototype();V.prototype=V.prototype();window.flex.libraries={events:new O,binds:new P,html:new Q,ui:{window:{move:new S,
resize:new T,maximize:new U,focus:new R},patterns:new M},types:{array:new V}};window._patterns=flex.libraries.ui.patterns})();